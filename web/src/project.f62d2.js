window.__require=function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var u="function"==typeof __require&&__require;if(!a&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){return o(t[s][1][e]||e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){var r,o,i=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}})();var l,h=[],f=!1,p=-1;function d(){f&&l&&(f=!1,l.length?h=l.concat(h):p=-1,h.length&&y())}function y(){if(!f){var e=c(d);f=!0;for(var t=h.length;t;){for(l=h,h=[];++p<t;)l&&l[p].run();p=-1,t=h.length}l=null,f=!1,u(e)}}function v(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new v(e,t)),1!==h.length||f||c(y)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(e,t,n){t.exports=e("./lib/axios")},{"./lib/axios":4}],3:[function(e,t,n){"use strict";var r=e("./../utils"),o=e("./../core/settle"),i=e("./../helpers/cookies"),s=e("./../helpers/buildURL"),a=e("../core/buildFullPath"),c=e("./../helpers/parseHeaders"),u=e("./../helpers/isURLSameOrigin"),l=e("../core/createError");t.exports=function(e){return new Promise(function(t,n){var h=e.data,f=e.headers;r.isFormData(h)&&delete f["Content-Type"],(r.isBlob(h)||r.isFile(h))&&h.type&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",y=unescape(encodeURIComponent(e.auth.password))||"";f.Authorization="Basic "+btoa(d+":"+y)}var v=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),s(v,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};o(t,n,i),p=null}},p.onabort=function(){p&&(n(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var g=(e.withCredentials||u(v))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;g&&(f[e.xsrfHeaderName]=g)}if("setRequestHeader"in p&&r.forEach(f,function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),n(e),p=null)}),h||(h=null),p.send(h)})}},{"../core/buildFullPath":10,"../core/createError":11,"./../core/settle":15,"./../helpers/buildURL":19,"./../helpers/cookies":21,"./../helpers/isURLSameOrigin":23,"./../helpers/parseHeaders":25,"./../utils":27}],4:[function(e,t,n){"use strict";var r=e("./utils"),o=e("./helpers/bind"),i=e("./core/Axios"),s=e("./core/mergeConfig");function a(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var c=a(e("./defaults"));c.Axios=i,c.create=function(e){return a(s(c.defaults,e))},c.Cancel=e("./cancel/Cancel"),c.CancelToken=e("./cancel/CancelToken"),c.isCancel=e("./cancel/isCancel"),c.all=function(e){return Promise.all(e)},c.spread=e("./helpers/spread"),t.exports=c,t.exports.default=c},{"./cancel/Cancel":5,"./cancel/CancelToken":6,"./cancel/isCancel":7,"./core/Axios":8,"./core/mergeConfig":14,"./defaults":17,"./helpers/bind":18,"./helpers/spread":26,"./utils":27}],5:[function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},{}],6:[function(e,t,n){"use strict";var r=e("./Cancel");function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},t.exports=o},{"./Cancel":5}],7:[function(e,t,n){"use strict";t.exports=function(e){return!(!e||!e.__CANCEL__)}},{}],8:[function(e,t,n){"use strict";var r=e("./../utils"),o=e("../helpers/buildURL"),i=e("./InterceptorManager"),s=e("./dispatchRequest"),a=e("./mergeConfig");function c(e){this.defaults=e,this.interceptors={request:new i,response:new i}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(e){c.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t}))}}),r.forEach(["post","put","patch"],function(e){c.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}}),t.exports=c},{"../helpers/buildURL":19,"./../utils":27,"./InterceptorManager":9,"./dispatchRequest":12,"./mergeConfig":14}],9:[function(e,t,n){"use strict";var r=e("./../utils");function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},t.exports=o},{"./../utils":27}],10:[function(e,t,n){"use strict";var r=e("../helpers/isAbsoluteURL"),o=e("../helpers/combineURLs");t.exports=function(e,t){return e&&!r(t)?o(e,t):t}},{"../helpers/combineURLs":20,"../helpers/isAbsoluteURL":22}],11:[function(e,t,n){"use strict";var r=e("./enhanceError");t.exports=function(e,t,n,o,i){var s=new Error(e);return r(s,t,n,o,i)}},{"./enhanceError":13}],12:[function(e,t,n){"use strict";var r=e("./../utils"),o=e("./transformData"),i=e("../cancel/isCancel"),s=e("../defaults");function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}t.exports=function(e){return a(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return a(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(a(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},{"../cancel/isCancel":7,"../defaults":17,"./../utils":27,"./transformData":16}],13:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},{}],14:[function(e,t,n){"use strict";var r=e("../utils");t.exports=function(e,t){t=t||{};var n={},o=["url","method","data"],i=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function u(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=c(void 0,e[o])):n[o]=c(e[o],t[o])}r.forEach(o,function(e){r.isUndefined(t[e])||(n[e]=c(void 0,t[e]))}),r.forEach(i,u),r.forEach(s,function(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=c(void 0,e[o])):n[o]=c(void 0,t[o])}),r.forEach(a,function(r){r in t?n[r]=c(e[r],t[r]):r in e&&(n[r]=c(void 0,e[r]))});var l=o.concat(i).concat(s).concat(a),h=Object.keys(e).concat(Object.keys(t)).filter(function(e){return-1===l.indexOf(e)});return r.forEach(h,u),n}},{"../utils":27}],15:[function(e,t,n){"use strict";var r=e("./createError");t.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},{"./createError":11}],16:[function(e,t,n){"use strict";var r=e("./../utils");t.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},{"./../utils":27}],17:[function(e,t,n){(function(n){"use strict";var r=e("./utils"),o=e("./helpers/normalizeHeaderName"),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=e("./adapters/xhr"):void 0!==n&&"[object process]"===Object.prototype.toString.call(n)&&(t=e("./adapters/http")),t}(),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){a.headers[e]={}}),r.forEach(["post","put","patch"],function(e){a.headers[e]=r.merge(i)}),t.exports=a}).call(this,e("_process"))},{"./adapters/http":3,"./adapters/xhr":3,"./helpers/normalizeHeaderName":24,"./utils":27,_process:1}],18:[function(e,t,n){"use strict";t.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},{}],19:[function(e,t,n){"use strict";var r=e("./../utils");function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))}))}),i=s.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},{"./../utils":27}],20:[function(e,t,n){"use strict";t.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},{}],21:[function(e,t,n){"use strict";var r=e("./../utils");t.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},{"./../utils":27}],22:[function(e,t,n){"use strict";t.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},{}],23:[function(e,t,n){"use strict";var r=e("./../utils");t.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},{"./../utils":27}],24:[function(e,t,n){"use strict";var r=e("../utils");t.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},{"../utils":27}],25:[function(e,t,n){"use strict";var r=e("./../utils"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(e){var t,n,i,s={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}}),s):s}},{"./../utils":27}],26:[function(e,t,n){"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}},{}],27:[function(e,t,n){"use strict";var r=e("./helpers/bind"),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}t.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:c,isUndefined:s,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},{"./helpers/bind":18}],"bet-amount":[function(e,t,n){"use strict";cc._RF.push(t,"b5a18Da77dJCK8T8N/FkCP9","bet-amount"),cc.Class({extends:cc.Component,properties:{node20:{default:null,type:cc.Prefab},node30:{default:null,type:cc.Prefab},node50:{default:null,type:cc.Prefab}},onLoad:function(){},start:function(){},init:function(){var e=this;this.childcoin20=cc.instantiate(this.node20),this.node.addChild(this.childcoin20),this.childcoin20.setPosition(0,0),cc.tween(this.childcoin20).to(.5,{position:cc.v2(-98.507,38.806),angle:-360}).start(),this.childcoin30=cc.instantiate(this.node30),this.node.addChild(this.childcoin30),this.childcoin30.setPosition(0,0),cc.tween(this.childcoin30).to(.5,{position:cc.v2(-2.277,84.404),angle:-360}).start(),this.childcoin50=cc.instantiate(this.node50),this.node.addChild(this.childcoin50),this.childcoin50.setPosition(0,0),cc.tween(this.childcoin50).to(.5,{position:cc.v2(94.737,41.121),angle:-360}).start(),this.childcoin20.on("coin20",function(t){console.log(t),e.node.emit("betamount",20),e.remove()}),this.childcoin30.on("coin30",function(t){console.log(t),e.node.emit("betamount",30),e.remove()}),this.childcoin50.on("coin50",function(t){console.log(t),e.node.emit("betamount",50),e.remove()})},remove:function(){var e=this;for(var t in console.log(this.node.children[0]),this.node.children)cc.tween(this.node.children[t]).to(.5,{position:cc.v2(0,0),angle:360}).call(function(){e.node.removeAllChildren()}).start()}}),cc._RF.pop()},{}],"bet-coin":[function(e,t,n){"use strict";cc._RF.push(t,"567bffbrUtOkLj2FQGRiXWJ","bet-coin"),cc.Class({extends:cc.Component,properties:{coin:{default:null,type:cc.Prefab}},onLoad:function(){},init:function(e){this.node.setPosition(cc.v2(-170.149,189.552)),this.addCoin(),this.moving(e)},start:function(){},addCoin:function(){var e=cc.instantiate(this.coin);this.node.addChild(e),e.setPosition(0,0)},getRandomPosition:function(e){switch(e){case"elephant":return[Math.floor(82*Math.random())+-166,Math.floor(69*Math.random())+68];case"tiger":return[Math.floor(82*Math.random())+-35,Math.floor(61*Math.random())+67];case"chicken":return[Math.floor(81*Math.random())+96,Math.floor(60*Math.random())+68];case"elephant-fish":return[Math.floor(56*Math.random())+-149,Math.floor(16*Math.random())+37];case"elephant-tiger":return[Math.floor(8*Math.random())+-61,Math.floor(39*Math.random())+78];case"tiger-chicken":return[Math.floor(16*Math.random())+64,Math.floor(39*Math.random())+78];case"fish":return[Math.floor(86*Math.random())+-166,Math.floor(65*Math.random())+-43];case"fish-tortoise":return[Math.floor(15*Math.random())+-65,Math.floor(39*Math.random())+-25];case"tortoise":return[Math.floor(83*Math.random())+-35,Math.floor(65*Math.random())+-43];case"tiger-tortoise":return[Math.floor(53*Math.random())+-18,Math.floor(16*Math.random())+37];case"chicken-prawn":return[Math.floor(53*Math.random())+110,Math.floor(16*Math.random())+37];case"tortoise-prawn":return[Math.floor(15*Math.random())+63,Math.floor(39*Math.random())+-25];case"prawn":return[Math.floor(82*Math.random())+96,Math.floor(65*Math.random())+-43];case"elephant-tiger1":return[Math.floor(68*Math.random())+-165,Math.floor(27*Math.random())+-105];case"tiger-tortoise1":return[Math.floor(73*Math.random())+-168,Math.floor(31*Math.random())+-158];case"fish-prawn":return[Math.floor(69*Math.random())+-75,Math.floor(27*Math.random())+-105];case"chicken-fish":return[Math.floor(68*Math.random())+-72,Math.floor(31*Math.random())+-158];case"elephant-tortoise":return[Math.floor(66*Math.random())+21,Math.floor(27*Math.random())+-105];case"elephant-fish1":return[Math.floor(72*Math.random())+21,Math.floor(31*Math.random())+-158];case"chicken-prawn1":return[Math.floor(68*Math.random())+110,Math.floor(27*Math.random())+-105];case"tiger-prawn":return[Math.floor(72*Math.random())+113,Math.floor(31*Math.random())+-158]}},moving:function(e){var t;switch(e){case"elephant":case"tiger":case"chicken":case"elephant-fish":case"elephant-tiger":case"tiger-chicken":case"fish":case"fish-tortoise":case"tortoise":case"tiger-tortoise":case"chicken-prawn":case"tortoise-prawn":case"prawn":case"elephant-tiger1":case"tiger-tortoise1":case"fish-prawn":case"chicken-fish":case"elephant-tortoise":case"elephant-fish1":case"chicken-prawn1":case"tiger-prawn":t=this.getRandomPosition(e),cc.tween(this.node).to(.5,{position:cc.v2(t[0],t[1]),angle:-360}).start()}cc.log("mvoing")}}),cc._RF.pop()},{}],"bet-picker":[function(e,t,n){"use strict";cc._RF.push(t,"5ed0aBAJHRJgJ8T9SeW2CtT","bet-picker"),cc.Class({extends:cc.Component,properties:{coin20:{default:null,type:cc.SpriteFrame},coin30:{default:null,type:cc.SpriteFrame},coin50:{default:null,type:cc.SpriteFrame}},onLoad:function(){this.sprite=this.node.getComponent(cc.Sprite)},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("changeBet")})},changeSprite:function(e){switch(e){case 20:this.sprite.spriteFrame=this.coin20;break;case 30:this.sprite.spriteFrame=this.coin30;break;case 50:this.sprite.spriteFrame=this.coin50}}}),cc._RF.pop()},{}],bet_history:[function(e,t,n){"use strict";cc._RF.push(t,"cd4c9S5gANPDqFPn+GMjHDv","bet_history"),cc.Class({extends:cc.Component,properties:{},start:function(){},show_window:function(){this.node.active=!0,this.node.opacity=0,this.node.scale=.2,cc.tween(this.node).to(.5,{scale:1,opacity:255},{easing:"quarInOut"}).start()},hide_window:function(){var e=this;cc.tween(this.node).to(.5,{scale:.2,opacity:0},{easing:"quarInOut"}).call(function(){e.node.active=!1}).start()}}),cc._RF.pop()},{}],"chicken-prawn":[function(e,t,n){"use strict";cc._RF.push(t,"895830hZ/NNrIxcQ88ZGBcz","chicken-prawn"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[2,5])})}}),cc._RF.pop()},{}],chicken:[function(e,t,n){"use strict";cc._RF.push(t,"ba7e2OLQEhHsaCgrowN93ss","chicken"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",2)})}}),cc._RF.pop()},{}],coin20:[function(e,t,n){"use strict";cc._RF.push(t,"f3d65Y9YihJWI58kOM8nxzV","coin20"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("coin20",20),console.log("coinn 200 is touched")})}}),cc._RF.pop()},{}],coin30:[function(e,t,n){"use strict";cc._RF.push(t,"06023SQ/stBH57Ale16YlRL","coin30"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("coin30",30),console.log("coinn 30 is touched")})}}),cc._RF.pop()},{}],coin50:[function(e,t,n){"use strict";cc._RF.push(t,"5afd4fk0JhLQqqfwwy+7E/S","coin50"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("coin50",50),console.log("coinn 50 is touched")})}}),cc._RF.pop()},{}],colyseus:[function(e,t,n){"use strict";function r(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,s=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}cc._RF.push(t,"10b78beYMlI5b9iub9tzpGx","colyseus"),function(e,r){"object"==(void 0===n?"undefined":s(n))&&"object"==(void 0===t?"undefined":s(t))?t.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==(void 0===n?"undefined":s(n))?n.Colyseus=r():e.Colyseus=r()}(self||void 0,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==s(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,Object.create(t.prototype)),Object.defineProperties(o,{$sorting:{value:void 0,enumerable:!1,writable:!0},$changes:{value:void 0,enumerable:!1,writable:!0},onAdd:{value:void 0,enumerable:!1,writable:!0},onRemove:{value:void 0,enumerable:!1,writable:!0},onChange:{value:void 0,enumerable:!1,writable:!0},triggerAll:{value:function(){if(o.onAdd)for(var e=0;e<o.length;e++)o.onAdd(o[e],e)}},toJSON:{value:function(){for(var e=[],t=0;t<o.length;t++){var n=o[t];e.push("function"==typeof n.toJSON?n.toJSON():n)}return e}},clone:{value:function(e){var n;return e?((n=t.of.apply(t,o)).onAdd=o.onAdd,n.onRemove=o.onRemove,n.onChange=o.onChange):n=new(t.bind.apply(t,i([void 0],o.map(function(e){return"object"==s(e)?e.clone():e})))),n}}}),o}return o(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!0,configurable:!0}),t.prototype.sort=function(t){if(this.$sorting=!0,e.prototype.sort.call(this,t),this.$changes)for(var n=0,r=Array.from(this.$changes.changes);n<r.length;n++){var o=r[n],i=this.$changes.getIndex(this[o]);void 0!==i&&this.$changes.mapIndexChange(this[o],i),this.$changes.mapIndex(this[o],o)}return this.$sorting=!1,this},t.prototype.filter=function(t,n){var r=e.prototype.filter.call(this,t);return r.$changes=this.$changes.clone(),r},t.prototype.splice=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=Array.prototype.splice.apply(this,arguments),i=Array.prototype.filter.call(this,function(n,r){return r>=e+t-1});return o.map(function(e){var t=e&&e.$changes;t&&(t.parent.deleteIndex(e),delete t.parent)}),i.forEach(function(e){var t=e&&e.$changes;t&&t.parentField--}),o},t}(Array);t.ArraySchema=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.MapSchema=function e(t){var n=this;for(var r in void 0===t&&(t={}),t)this[r]=t[r];Object.defineProperties(this,{$changes:{value:void 0,enumerable:!1,writable:!0},onAdd:{value:void 0,enumerable:!1,writable:!0},onRemove:{value:void 0,enumerable:!1,writable:!0},onChange:{value:void 0,enumerable:!1,writable:!0},clone:{value:function(t){var r;if(t)(r=Object.assign(new e,n)).onAdd=n.onAdd,r.onRemove=n.onRemove,r.onChange=n.onChange;else{var o=new e;for(var i in n)"object"==s(n[i])?o[i]=n[i].clone():o[i]=n[i]}return r}},triggerAll:{value:function(){if(n.onAdd)for(var e in n)n.onAdd(n[e],e)}},toJSON:{value:function(){var e={};for(var t in n)e[t]="function"==typeof n[t].toJSON?n[t].toJSON():n[t];return e}},_indexes:{value:new Map,enumerable:!1,writable:!0},_updateIndexes:{value:function(e){for(var t=0,r=new Map,o=0,i=e;o<i.length;o++){var s=i[o];r.set(s,t++)}n._indexes=r}}})}},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),a=n(8),c=n(9),u=n(0),l=n(1),h=n(13),f=n(35),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(Error);function d(e,t,n,r){if(!(e instanceof t))throw new p("a '"+t.name+"' was expected, but '"+e.constructor.name+"' was provided in "+n.constructor.name+"#"+r)}function y(e,t,n,r,o){!function(e,t,n,r){var o,i=!1;switch(t){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":o="number",isNaN(e)&&console.log('trying to encode "NaN" in '+n.constructor.name+"#"+r);break;case"string":o="string",i=!0;break;case"boolean":return}if(s(e)!==o&&(!i||i&&null!==e)){var a="'"+JSON.stringify(e)+"'"+(e&&e.constructor&&" ("+e.constructor.name+")");throw new p("a '"+o+"' was expected, but "+a+" was provided in "+n.constructor.name+"#"+r)}}(n,e,r,o);var i=a[e];if(!i)throw new p("a '"+e+"' was expected, but "+n+" was provided in "+r.constructor.name+"#"+o);i(t,n)}function v(e,t,n){return c[e](t,n)}var g=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Object.defineProperties(this,{$changes:{value:new h.ChangeTree(this._indexes),enumerable:!1,writable:!0},$listeners:{value:{},enumerable:!1,writable:!0}});var n=this._descriptors;n&&Object.defineProperties(this,n)}return e.onError=function(e){console.error(e)},Object.defineProperty(e.prototype,"_schema",{get:function(){return this.constructor._schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_descriptors",{get:function(){return this.constructor._descriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_indexes",{get:function(){return this.constructor._indexes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_fieldsByIndex",{get:function(){return this.constructor._fieldsByIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_filters",{get:function(){return this.constructor._filters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_deprecated",{get:function(){return this.constructor._deprecated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$changed",{get:function(){return this.$changes.changed},enumerable:!0,configurable:!0}),e.prototype.listen=function(e,t){var n=this;return this.$listeners[e]||(this.$listeners[e]=new f.EventEmitter),this.$listeners[e].register(t),function(){return n.$listeners[e].remove(t)}},e.prototype.decode=function(t,n){void 0===n&&(n={offset:0});var r=[],o=this._schema,s=this._fieldsByIndex,a=t.length;t[n.offset]===i.TYPE_ID&&(n.offset+=2);for(var h=function(){var a=c.nilCheck(t,n)&&++n.offset,h=t[n.offset++];if(h===i.END_OF_STRUCTURE)return"break";var p=s[h],d="_"+p,y=o[p],g=void 0,m=!1;if(!p)return"continue";if(a)g=null,m=!0;else if(y._schema)(g=f[d]||f.createTypeInstance(t,n,y)).decode(t,n),m=!0;else if(Array.isArray(y)){y=y[0];var _=f[d]||new u.ArraySchema;g=_.clone(!0);var b=c.number(t,n),w=Math.min(c.number(t,n),b),C=g.length>b;m=w>0||C;var x=!1;C&&Array.prototype.splice.call(g,b).forEach(function(t,n){if(t&&t.onRemove)try{t.onRemove()}catch(t){e.onError(t)}if(_.onRemove)try{_.onRemove(t,b+n)}catch(t){e.onError(t)}});for(var k=0;k<w;k++){var O=c.number(t,n),A=void 0;c.indexChangeCheck(t,n)&&(c.uint8(t,n),A=c.number(t,n),x=!0);var M=!x&&void 0===g[O]||x&&void 0===A;if(y.prototype instanceof e){var S=void 0;(S=M?f.createTypeInstance(t,n,y):void 0!==A?_[A]:_[O])||(S=f.createTypeInstance(t,n,y),M=!0),S.decode(t,n),g[O]=S}else g[O]=v(y,t,n);if(M){if(_.onAdd)try{_.onAdd(g[O],O)}catch(t){e.onError(t)}}else if(_.onChange)try{_.onChange(g[O],O)}catch(t){e.onError(t)}}}else if(y.map){y=y.map;var E=f[d]||new l.MapSchema;g=E.clone(!0);var R=c.number(t,n);m=R>0,x=!1;var P=Object.keys(E);for(k=0;k<R&&void 0!==t[n.offset]&&t[n.offset]!==i.END_OF_STRUCTURE;k++){var N=c.nilCheck(t,n)&&++n.offset,T=void 0;c.indexChangeCheck(t,n)&&(c.uint8(t,n),T=P[c.number(t,n)],x=!0);var I=c.numberCheck(t,n),j="string"!=typeof y,F=I?P[c.number(t,n)]:c.string(t,n);if(S=void 0,S=(M=!x&&void 0===E[F]||x&&void 0===T&&I)&&j?f.createTypeInstance(t,n,y):void 0!==T?E[T]:E[F],N){if(S&&S.onRemove)try{S.onRemove()}catch(t){e.onError(t)}if(E.onRemove)try{E.onRemove(S,F)}catch(t){e.onError(t)}delete g[F]}else if(j?(S.decode(t,n),g[F]=S):g[F]=v(y,t,n),M){if(E.onAdd)try{E.onAdd(g[F],F)}catch(t){e.onError(t)}}else if(E.onChange)try{E.onChange(g[F],F)}catch(t){e.onError(t)}}}else m=(g=v(y,t,n))!==f[d];m&&(f.onChange||f.$listeners[p])&&r.push({field:p,value:g,previousValue:f[d]}),f[d]=g},f=this;n.offset<a&&"break"!==h(););return this._triggerChanges(r),this},e.prototype.encode=function(e,t,n,r){var o=this;if(void 0===e&&(e=this),void 0===t&&(t=!1),void 0===r&&(r=[]),!this.$changes.changed&&!t)return this._encodeEndOfStructure(this,e,r),r;for(var s=this._schema,c=this._indexes,h=this._fieldsByIndex,f=this._filters,p=Array.from(t?this.$changes.allChanges:this.$changes.changes).sort(),v=function(v,m){var _=h[p[v]]||p[v],b="_"+_,w=s[_],C=f&&f[_],x=g[b],k=c[_];if(void 0===x)a.uint8(r,i.NIL),a.number(r,k);else if(w._schema){if(n&&C&&!C.call(g,n,x,e))return"continue";x?(a.number(r,k),d(x,w,g,_),g.tryEncodeTypeId(r,w,x.constructor),x.encode(e,t,n,r)):(a.uint8(r,i.NIL),a.number(r,k))}else if(Array.isArray(w)){var O=x.$changes;if(n&&C&&!C.call(g,n,x,e))return"continue";a.number(r,k),a.number(r,x.length);var A=Array.from(t?O.allChanges:O.changes).filter(function(e){return void 0!==o[b][e]}).sort(function(e,t){return e-t}),M=A.length;a.number(r,M);var S="string"!=typeof w[0];d(g[b],u.ArraySchema,g,_);for(var E=0;E<M;E++){var R=A[E],P=g[b][R];S?(a.number(r,R),t||void 0!==(L=O.getIndexChange(P))&&(a.uint8(r,i.INDEX_CHANGE),a.number(r,L)),d(P,w[0],g,_),g.tryEncodeTypeId(r,w[0],P.constructor),P.encode(e,t,n,r)):void 0!==P&&(a.number(r,R),y(w[0],r,P,g,_))}t||n||O.discard()}else if(w.map){if(O=x.$changes,n&&C&&!C.call(g,n,x,e))return"continue";a.number(r,k);var N=Array.from(t?O.allChanges:O.changes);a.number(r,N.length);var T=Array.from(O.allChanges);S="string"!=typeof w.map,M=N.length,d(g[b],l.MapSchema,g,_);for(var I=0;I<M;I++){var j=N[I],F=void(P=g[b][j]);if(t){if(void 0===P)continue}else{var L=O.getIndexChange(P);P&&void 0!==L&&(a.uint8(r,i.INDEX_CHANGE),a.number(r,g[b]._indexes.get(L))),F=O.isDeleted(j)&&P?void 0:g[b]._indexes.get(j)}var U=void 0===P;U&&a.uint8(r,i.NIL),void 0!==F?a.number(r,F):a.string(r,j),P&&S?(d(P,w.map,g,_),g.tryEncodeTypeId(r,w.map,P.constructor),P.encode(e,t,n,r)):U||y(w.map,r,P,g,_)}t||n||(O.discard(),g[b]._updateIndexes(T))}else{if(n&&C&&!C.call(g,n,x,e))return"continue";a.number(r,k),y(w,r,x,g,_)}},g=this,m=0,_=p.length;m<_;m++)v(m);return this._encodeEndOfStructure(this,e,r),t||n||this.$changes.discard(),r},e.prototype.encodeFiltered=function(e,t){return this.encode(this,!1,e,t)},e.prototype.encodeAll=function(e){return this.encode(this,!0,void 0,e)},e.prototype.encodeAllFiltered=function(e,t){return this.encode(this,!0,e,t)},e.prototype.clone=function(){var e=new this.constructor,t=this._schema;for(var n in t)"object"==s(this[n])&&"function"==typeof this[n].clone?e[n]=this[n].clone():e[n]=this[n];return e},e.prototype.triggerAll=function(){var t=[],n=this._schema;for(var r in n)void 0!==this[r]&&t.push({field:r,value:this[r],previousValue:void 0});try{this._triggerChanges(t)}catch(t){e.onError(t)}},e.prototype.toJSON=function(){var e=this._schema,t=this._deprecated,n={};for(var r in e)t[r]||null===this[r]||void 0===this[r]||(n[r]="function"==typeof this[r].toJSON?this[r].toJSON():this["_"+r]);return n},e.prototype.discardAllChanges=function(){var t=this._schema,n=Array.from(this.$changes.changes),r=this._fieldsByIndex;for(var o in n){var i=r[o],s=t[i],a=this[i];if(void 0!==a)if(s._schema)a.discardAllChanges();else if(Array.isArray(s)){for(var c=0,u=a.length;c<u;c++){var l=a[c],h=this["_"+i][l];"string"!=typeof s[0]&&h&&h.discardAllChanges()}a.$changes.discard()}else if(s.map){var f=a,p=Object.keys(this["_"+i]);for(c=0;c<f.length;c++){var d=p[f[c]]||f[c];(h=this["_"+i][d])instanceof e&&h&&h.discardAllChanges()}a.$changes.discard()}}this.$changes.discard()},e.prototype._encodeEndOfStructure=function(e,t,n){e!==t&&n.push(i.END_OF_STRUCTURE)},e.prototype.tryEncodeTypeId=function(e,t,n){t._typeid!==n._typeid&&(a.uint8(e,i.TYPE_ID),a.uint8(e,n._typeid))},e.prototype.createTypeInstance=function(e,t,n){return e[t.offset]===i.TYPE_ID?(t.offset++,new(this.constructor._context.get(c.uint8(e,t)))):new n},e.prototype._triggerChanges=function(t){if(t.length>0){for(var n=0;n<t.length;n++){var r=t[n],o=this.$listeners[r.field];if(o)try{o.invoke(r.value,r.previousValue)}catch(t){e.onError(t)}}if(this.onChange)try{this.onChange(t)}catch(t){e.onError(t)}}},e}();t.Schema=g},function(e,t){function n(e,t){t.headers=e.headers||{},t.statusMessage=e.statusText,t.statusCode=e.status,t.data=e.response}t.send=function(e,t,r){return new Promise(function(o,i){var a,c,u,l;r=r||{};var h=new XMLHttpRequest,f=r.headers||{};for(a in r.timeout&&(h.timeout=r.timeout),h.ontimeout=h.onerror=function(e){e.timeout="timeout"==e.type,i(e)},h.open(e,t.href||t),h.onload=function(){for(l=h.getAllResponseHeaders().trim().split(/[\r\n]+/),n(h,h);u=l.shift();)u=u.split(": "),h.headers[u.shift().toLowerCase()]=u.join(": ");if((u=h.headers["content-type"])&&~u.indexOf("application/json"))try{h.data=JSON.parse(h.data,r.reviver)}catch(e){return n(h,e),i(e)}(h.status>=400?i:o)(h)},(c=r.body)&&"object"==s(c)&&(f["content-type"]="application/json",c=JSON.stringify(c)),h.withCredentials=!!r.withCredentials,f)h.setRequestHeader(a,f[a]);h.send(c)})},t.get=t.send.bind(t.send,"GET"),t.post=t.send.bind(t.send,"POST"),t.patch=t.send.bind(t.send,"PATCH"),t.del=t.send.bind(t.send,"DELETE"),t.put=t.send.bind(t.send,"PUT")},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Room=void 0;var a=i(n(5)),c=n(21),u=n(22),l=n(23),h=n(6),f=n(7),p=i(n(8)),d=i(n(9)),y=function(){function e(e,t){var n=this;this.onJoin=c.createSignal(),this.onStateChange=c.createSignal(),this.onError=c.createSignal(),this.onLeave=c.createSignal(),this.hasJoined=!1,this.onMessageHandlers=u.createNanoEvents(),this.id=null,this.name=e,t?(this.serializer=new(h.getSerializer("schema")),this.rootSchema=t,this.serializer.state=new t):this.serializer=new(h.getSerializer("fossil-delta")),this.onError(function(e,t){return console.error("colyseus.js - onError => ("+e+") "+t)}),this.onLeave(function(){return n.removeAllListeners()})}return e.prototype.connect=function(e){var t=this;this.connection=new l.Connection(e,!1),this.connection.reconnectEnabled=!1,this.connection.onmessage=this.onMessageCallback.bind(this),this.connection.onclose=function(e){if(!t.hasJoined)return console.error("Room connection was closed unexpectedly ("+e.code+"): "+e.reason),void t.onError.invoke(e.code,e.reason);t.onLeave.invoke(e.code)},this.connection.onerror=function(e){console.warn("Room, onError ("+e.code+"): "+e.reason),t.onError.invoke(e.code,e.reason)},this.connection.open()},e.prototype.leave=function(e){void 0===e&&(e=!0),this.connection?e?this.connection.send([f.Protocol.LEAVE_ROOM]):this.connection.close():this.onLeave.invoke(4e3)},e.prototype.onMessage=function(e,t){return this.onMessageHandlers.on(this.getMessageHandlerKey(e),t)},e.prototype.send=function(e,t){var n,r=[f.Protocol.ROOM_DATA];if("string"==typeof e?p.string(r,e):p.number(r,e),void 0!==t){var o=a.encode(t);(n=new Uint8Array(r.length+o.byteLength)).set(new Uint8Array(r),0),n.set(new Uint8Array(o),r.length)}else n=new Uint8Array(r);this.connection.send(n.buffer)},Object.defineProperty(e.prototype,"state",{get:function(){return this.serializer.getState()},enumerable:!1,configurable:!0}),e.prototype.listen=function(e,t,n){if("schema"!==this.serializerId)return this.serializerId||console.warn("room.Listen() should be called after room.onJoin has been called (DEPRECATION WARNING)"),this.serializer.api.listen(e,t,n);console.error("'"+this.serializerId+"' serializer doesn't support .listen() method here.")},e.prototype.removeListener=function(e){return this.serializer.api.removeListener(e)},e.prototype.removeAllListeners=function(){this.serializer&&this.serializer.teardown(),this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear()},e.prototype.onMessageCallback=function(e){var t=Array.from(new Uint8Array(e.data)),n=t[0];if(n===f.Protocol.JOIN_ROOM){var r=1;this.serializerId=f.utf8Read(t,r),r+=f.utf8Length(this.serializerId);var o=h.getSerializer(this.serializerId);if(!o)throw new Error("missing serializer: "+this.serializerId);"fossil-delta"===this.serializerId||this.rootSchema||(this.serializer=new o),t.length>r&&this.serializer.handshake&&this.serializer.handshake(t,{offset:1}),this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([f.Protocol.JOIN_ROOM])}else if(n===f.Protocol.ERROR){var i={offset:1},s=d.number(t,i),c=d.string(t,i);this.onError.invoke(s,c)}else if(n===f.Protocol.LEAVE_ROOM)this.leave();else if(n===f.Protocol.ROOM_DATA_SCHEMA)(c=new(l=this.serializer.getState().constructor._context.get(t[1]))).decode(t,{offset:2}),this.dispatchMessage(l,c);else if(n===f.Protocol.ROOM_STATE)t.shift(),this.setState(t);else if(n===f.Protocol.ROOM_STATE_PATCH)t.shift(),this.patch(t);else if(n===f.Protocol.ROOM_DATA){var u={offset:1},l=d.stringCheck(t,u)?d.string(t,u):d.number(t,u);c=t.length>u.offset?a.decode(e.data,u.offset):void 0,this.dispatchMessage(l,c)}},e.prototype.setState=function(e){this.serializer.setState(e),this.onStateChange.invoke(this.serializer.getState())},e.prototype.patch=function(e){this.serializer.patch(e),this.onStateChange.invoke(this.serializer.getState())},e.prototype.dispatchMessage=function(e,t){var n=this.getMessageHandlerKey(e);this.onMessageHandlers.events[n]?this.onMessageHandlers.emit(n,t):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",e,t):console.warn("onMessage not registered for type '"+e+"'.")},e.prototype.getMessageHandlerKey=function(e){switch(s(e)){case"function":return"$"+e._typeid;case"string":return e;case"number":return"i"+e;default:throw new Error("invalid message type.")}},e}();t.Room=y},function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;var o=r(n(19)),i=r(n(20));t.decode=o.default,t.encode=i.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getSerializer=t.registerSerializer=void 0;var r={};t.registerSerializer=function(e,t){r[e]=t},t.getSerializer=function(e){return r[e]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.utf8Length=t.utf8Read=t.ErrorCode=t.Protocol=void 0,function(e){e[e.HANDSHAKE=9]="HANDSHAKE",e[e.JOIN_ROOM=10]="JOIN_ROOM",e[e.ERROR=11]="ERROR",e[e.LEAVE_ROOM=12]="LEAVE_ROOM",e[e.ROOM_DATA=13]="ROOM_DATA",e[e.ROOM_STATE=14]="ROOM_STATE",e[e.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",e[e.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA"}(t.Protocol||(t.Protocol={})),function(e){e[e.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",e[e.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",e[e.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",e[e.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",e[e.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",e[e.AUTH_FAILED=4215]="AUTH_FAILED",e[e.APPLICATION_ERROR=4216]="APPLICATION_ERROR"}(t.ErrorCode||(t.ErrorCode={})),t.utf8Read=function(e,t){for(var n=e[t++],r="",o=0,i=t,s=t+n;i<s;i++){var a=e[i];if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(o=(7&a)<<18|(63&e[++i])<<12|(63&e[++i])<<6|(63&e[++i])<<0)>=65536?(o-=65536,r+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):r+=String.fromCharCode(o)}else r+=String.fromCharCode((15&a)<<12|(63&e[++i])<<6|(63&e[++i])<<0);else r+=String.fromCharCode((31&a)<<6|63&e[++i]);else r+=String.fromCharCode(a)}return r},t.utf8Length=function(e){void 0===e&&(e="");for(var t=0,n=0,r=0,o=e.length;r<o;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n+1}},function(e,t,n){function r(e,t,n){for(var r=0,o=0,i=n.length;o<i;o++)(r=n.charCodeAt(o))<128?e[t++]=r:r<2048?(e[t++]=192|r>>6,e[t++]=128|63&r):r<55296||r>=57344?(e[t++]=224|r>>12,e[t++]=128|r>>6&63,e[t++]=128|63&r):(o++,r=65536+((1023&r)<<10|1023&n.charCodeAt(o)),e[t++]=240|r>>18,e[t++]=128|r>>12&63,e[t++]=128|r>>6&63,e[t++]=128|63&r)}function o(e,t){e.push(255&t)}function i(e,t){e.push(255&t)}function s(e,t){e.push(255&t),e.push(t>>8&255)}function a(e,t){e.push(255&t),e.push(t>>8&255)}function c(e,t){e.push(255&t),e.push(t>>8&255),e.push(t>>16&255),e.push(t>>24&255)}function u(e,t){var n=t>>24,r=t>>16,o=t>>8,i=t;e.push(255&i),e.push(255&o),e.push(255&r),e.push(255&n)}function l(e,t){var n=Math.floor(t/Math.pow(2,32));u(e,t>>>0),u(e,n)}function h(e,t){var n=t/Math.pow(2,32)>>0;u(e,t>>>0),u(e,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.utf8Write=r,t.int8=o,t.uint8=i,t.int16=s,t.uint16=a,t.int32=c,t.uint32=u,t.int64=l,t.uint64=h,t.float32=function(e,t){y(e,t)},t.float64=function(e,t){v(e,t)};var f=new Int32Array(2),p=new Float32Array(f.buffer),d=new Float64Array(f.buffer);function y(e,t){p[0]=t,c(e,f[0])}function v(e,t){d[0]=t,c(e,f[0]),c(e,f[1])}t.writeFloat32=y,t.writeFloat64=v,t.boolean=function(e,t){return i(e,t?1:0)},t.string=function(e,t){t||(t="");var n=function(e){for(var t=0,n=0,r=0,o=e.length;r<o;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t),o=0;if(n<32)e.push(160|n),o=1;else if(n<256)e.push(217),i(e,n),o=2;else if(n<65536)e.push(218),a(e,n),o=3;else{if(!(n<4294967296))throw new Error("String too long");e.push(219),u(e,n),o=5}return r(e,e.length,t),o+n},t.number=function e(t,n){return isNaN(n)?e(t,0):isFinite(n)?n!==(0|n)?(t.push(203),v(t,n),9):n>=0?n<128?(i(t,n),1):n<256?(t.push(204),i(t,n),2):n<65536?(t.push(205),a(t,n),3):n<4294967296?(t.push(206),u(t,n),5):(t.push(207),h(t,n),9):n>=-32?(t.push(n),1):n>=-128?(t.push(208),o(t,n),2):n>=-32768?(t.push(209),s(t,n),3):n>=-2147483648?(t.push(210),c(t,n),5):(t.push(211),l(t,n),9):e(t,n>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);function o(e,t){return i(e,t)<<24>>24}function i(e,t){return e[t.offset++]}function s(e,t){return a(e,t)<<16>>16}function a(e,t){return e[t.offset++]|e[t.offset++]<<8}function c(e,t){return e[t.offset++]|e[t.offset++]<<8|e[t.offset++]<<16|e[t.offset++]<<24}function u(e,t){return c(e,t)>>>0}function l(e,t){var n=u(e,t);return c(e,t)*Math.pow(2,32)+n}function h(e,t){var n=u(e,t);return u(e,t)*Math.pow(2,32)+n}t.int8=o,t.uint8=i,t.int16=s,t.uint16=a,t.int32=c,t.uint32=u,t.float32=function(e,t){return y(e,t)},t.float64=function(e,t){return v(e,t)},t.int64=l,t.uint64=h;var f=new Int32Array(2),p=new Float32Array(f.buffer),d=new Float64Array(f.buffer);function y(e,t){return f[0]=c(e,t),p[0]}function v(e,t){return f[0]=c(e,t),f[1]=c(e,t),d[0]}t.readFloat32=y,t.readFloat64=v,t.boolean=function(e,t){return i(e,t)>0},t.string=function(e,t){var n,r=e[t.offset++];r<192?n=31&r:217===r?n=i(e,t):218===r?n=a(e,t):219===r&&(n=u(e,t));var o=function(e,t,n){for(var r="",o=0,i=t,s=t+n;i<s;i++){var a=e[i];if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(o=(7&a)<<18|(63&e[++i])<<12|(63&e[++i])<<6|(63&e[++i])<<0)>=65536?(o-=65536,r+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):r+=String.fromCharCode(o)}else r+=String.fromCharCode((15&a)<<12|(63&e[++i])<<6|(63&e[++i])<<0);else r+=String.fromCharCode((31&a)<<6|63&e[++i]);else r+=String.fromCharCode(a)}return r}(e,t.offset,n);return t.offset+=n,o},t.stringCheck=function(e,t){var n=e[t.offset];return n<192&&n>160||217===n||218===n||219===n},t.number=function(e,t){var n=e[t.offset++];return n<128?n:202===n?y(e,t):203===n?v(e,t):204===n?i(e,t):205===n?a(e,t):206===n?u(e,t):207===n?h(e,t):208===n?o(e,t):209===n?s(e,t):210===n?c(e,t):211===n?l(e,t):n>223?-1*(255-n+1):void 0},t.numberCheck=function(e,t){var n=e[t.offset];return n<128||n>=202&&n<=211},t.arrayCheck=function(e,t){return e[t.offset]<160},t.nilCheck=function(e,t){return e[t.offset]===r.NIL},t.indexChangeCheck=function(e,t){return e[t.offset]===r.INDEX_CHANGE}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.END_OF_STRUCTURE=193,t.NIL=192,t.INDEX_CHANGE=212,t.TYPE_ID=213},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Auth=t.Platform=void 0;var c=i(n(3)),u=n(27);!function(e){e.ios="ios",e.android="android"}(t.Platform||(t.Platform={}));var l=function(){function e(e){var t=this;this._id=void 0,this.username=void 0,this.displayName=void 0,this.avatarUrl=void 0,this.isAnonymous=void 0,this.email=void 0,this.lang=void 0,this.location=void 0,this.timezone=void 0,this.metadata=void 0,this.devices=void 0,this.facebookId=void 0,this.twitterId=void 0,this.googleId=void 0,this.gameCenterId=void 0,this.steamId=void 0,this.friendIds=void 0,this.blockedUserIds=void 0,this.createdAt=void 0,this.updatedAt=void 0,this.token=void 0,this.endpoint=e.replace("ws","http"),u.getItem("colyseus-auth-token",function(e){return t.token=e})}return Object.defineProperty(e.prototype,"hasToken",{get:function(){return!!this.token},enumerable:!1,configurable:!0}),e.prototype.login=function(e){return void 0===e&&(e={}),s(this,void 0,void 0,function(){var t,n,r;return a(this,function(o){switch(o.label){case 0:return t=Object.assign({},e),this.hasToken&&(t.token=this.token),[4,this.request("post","/auth",t)];case 1:for(r in n=o.sent(),this.token=n.token,u.setItem("colyseus-auth-token",this.token),n)this.hasOwnProperty(r)&&(this[r]=n[r]);return this.registerPingService(),[2,this]}})})},e.prototype.save=function(){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.request("put","/auth",{},{username:this.username,displayName:this.displayName,avatarUrl:this.avatarUrl,lang:this.lang,location:this.location,timezone:this.timezone})];case 1:return e.sent(),[2,this]}})})},e.prototype.getFriends=function(){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.request("get","/friends/all")];case 1:return[2,e.sent()]}})})},e.prototype.getOnlineFriends=function(){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.request("get","/friends/online")];case 1:return[2,e.sent()]}})})},e.prototype.getFriendRequests=function(){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.request("get","/friends/requests")];case 1:return[2,e.sent()]}})})},e.prototype.sendFriendRequest=function(e){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this.request("post","/friends/requests",{userId:e})];case 1:return[2,t.sent()]}})})},e.prototype.acceptFriendRequest=function(e){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this.request("put","/friends/requests",{userId:e})];case 1:return[2,t.sent()]}})})},e.prototype.declineFriendRequest=function(e){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this.request("del","/friends/requests",{userId:e})];case 1:return[2,t.sent()]}})})},e.prototype.blockUser=function(e){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this.request("post","/friends/block",{userId:e})];case 1:return[2,t.sent()]}})})},e.prototype.unblockUser=function(e){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this.request("put","/friends/block",{userId:e})];case 1:return[2,t.sent()]}})})},e.prototype.request=function(e,t,n,r,o){return void 0===n&&(n={}),void 0===o&&(o={}),s(this,void 0,void 0,function(){var i,s,u,l;return a(this,function(a){switch(a.label){case 0:for(s in o.Accept="application/json",this.hasToken&&(o.Authorization="Bearer "+this.token),i=[],n)i.push(s+"="+n[s]);return u=i.length>0?"?"+i.join("&"):"",l={headers:o},r&&(l.body=r),[4,c[e](""+this.endpoint+t+u,l)];case 1:return[2,a.sent().data]}})})},e.prototype.logout=function(){this.token=void 0,u.removeItem("colyseus-auth-token"),this.unregisterPingService()},e.prototype.registerPingService=function(e){var t=this;void 0===e&&(e=15e3),this.unregisterPingService(),this.keepOnlineInterval=setInterval(function(){return t.request("get","/auth")},e)},e.prototype.unregisterPingService=function(){clearInterval(this.keepOnlineInterval)},e}();t.Auth=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.Schema=r.Schema;var o=n(1);t.MapSchema=o.MapSchema;var i=n(0);t.ArraySchema=i.ArraySchema;var s=n(36);t.dumpChanges=s.dumpChanges;var a=n(37);t.Reflection=a.Reflection,t.ReflectionType=a.ReflectionType,t.ReflectionField=a.ReflectionField;var c=n(14);t.type=c.type,t.deprecated=c.deprecated,t.filter=c.filter,t.defineTypes=c.defineTypes,t.Context=c.Context},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(0),i=n(1),a=function(){function e(e,t,n){void 0===e&&(e={}),void 0===t&&(t=null),this.changed=!1,this.changes=new Set,this.allChanges=new Set,this.deletedKeys={},this.fieldIndexes=e,this.parent=n,this.parentField=t}return e.prototype.change=function(e,t){void 0===t&&(t=!1);var n=this.fieldIndexes[e],r="number"==typeof n?n:e;t?t&&(this.changed=!0,this.changes.add(r),this.allChanges.delete(r)):(this.changed=!0,this.changes.add(r),this.allChanges.add(r)),this.parent&&this.parent.change(this.parentField)},e.prototype.mapIndex=function(e,t){"object"==s(e)&&(this.indexMap||(this.indexMap=new Map,this.indexChange=new Map),this.indexMap.set(e,t))},e.prototype.getIndex=function(e){return this.indexMap&&this.indexMap.get(e)},e.prototype.deleteIndex=function(e){"object"==s(e)&&(this.deletedKeys[this.indexMap.get(e)]=!0,this.indexMap.delete(e))},e.prototype.isDeleted=function(e){return void 0!==this.deletedKeys[e]},e.prototype.mapIndexChange=function(e,t){"object"!=s(e)||this.indexChange.has(e)||this.indexChange.set(e,t)},e.prototype.getIndexChange=function(e){return this.indexChange&&this.indexChange.get(e)},e.prototype.deleteIndexChange=function(e){"object"==s(e)&&this.indexChange.delete(e)},e.prototype.changeAll=function(e){if(e instanceof r.Schema){var t=e._schema;for(var n in t)(e[n]instanceof r.Schema||e[n]instanceof o.ArraySchema||e[n]instanceof i.MapSchema)&&!e[n].$changes.parent.parent&&(e[n].$changes.parent=this),void 0!==e[n]&&this.change(n)}else for(var s=0,a=Object.keys(e);s<a.length;s++){var c=a[s];void 0!==e[c]&&this.change(c)}},e.prototype.discard=function(){this.changed=!1,this.changes.clear(),this.deletedKeys={},this.indexChange&&this.indexChange.clear()},e.prototype.clone=function(){return new e(this.fieldIndexes,this.parentField,void 0)},e}();t.ChangeTree=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),o=n(2),i=function(){function e(){this.types={},this.schemas=new Map}return e.prototype.has=function(e){return this.schemas.has(e)},e.prototype.get=function(e){return this.types[e]},e.prototype.add=function(e){e._typeid=this.schemas.size,this.types[e._typeid]=e,this.schemas.set(e,e._typeid)},e}();function s(e,n){return void 0===n&&(n=t.globalContext),function(t,i){var s=t.constructor;s._context=n,n.has(s)||(n.add(s),s._schema=Object.assign({},s._schema||{}),s._indexes=Object.assign({},s._indexes||{}),s._fieldsByIndex=Object.assign({},s._fieldsByIndex||{}),s._descriptors=Object.assign({},s._descriptors||{}),s._deprecated=Object.assign({},s._deprecated||{}));var a=Object.keys(s._schema).length;if(s._fieldsByIndex[a]=i,s._indexes[i]=a,s._schema[i]=e,!s._descriptors[i]){var c=Array.isArray(e),u=!c&&e.map,l="function"==typeof s._schema[i],h="_"+i;s._descriptors[h]={enumerable:!1,configurable:!1,writable:!0},s._descriptors[i]={get:function(){return this[h]},set:function(e){if((c||u)&&(e=new Proxy(e,{get:function(e,t){return e[t]},set:function(e,t,n){if("length"!==t&&0!==t.indexOf("$")){var i=c?Number(t):String(t);if(!e.$sorting){var s=e.$changes.getIndex(n);void 0!==s&&e.$changes.mapIndexChange(n,s),e.$changes.mapIndex(n,i)}n instanceof o.Schema?n.$changes.parent||(n.$changes=new r.ChangeTree(n._indexes,i,e.$changes),n.$changes.changeAll(n)):e[t]=n,e.$changes.change(i)}else e[t];return e[t]=n,!0},deleteProperty:function(e,t){var n=e[t];u&&void 0!==n&&(e.$changes.deleteIndex(n),e.$changes.deleteIndexChange(n),n.$changes&&delete n.$changes.parent),delete e[t];var r=c?Number(t):String(t);return e.$changes.change(r,!0),!0}})),e!==this[h])if(this[h]=e,c){this.$changes.change(i),e.$changes=new r.ChangeTree({},i,this.$changes);for(var t=0;t<e.length;t++)e[t]instanceof o.Schema&&(e[t].$changes=new r.ChangeTree(e[t]._indexes,t,e.$changes),e[t].$changes.changeAll(e[t])),e.$changes.mapIndex(e[t],t),e.$changes.change(t)}else if(u)for(var n in e.$changes=new r.ChangeTree({},i,this.$changes),this.$changes.change(i),e)e[n]instanceof o.Schema&&(e[n].$changes=new r.ChangeTree(e[n]._indexes,n,e.$changes),e[n].$changes.changeAll(e[n])),e.$changes.mapIndex(e[n],n),e.$changes.change(n);else l?(this.$changes.change(i),e&&(e.$changes=new r.ChangeTree(e._indexes,i,this.$changes),e.$changes.changeAll(e))):this.$changes.change(i)},enumerable:!0,configurable:!0}}}}t.Context=i,t.globalContext=new i,t.type=s,t.filter=function(e){return function(t,n){var r=t.constructor;r._filters||(r._filters={}),r._filters[n]=e}},t.deprecated=function(e,n){return void 0===e&&(e=!0),void 0===n&&(n=t.globalContext),function(t,n){var r=t.constructor;r._deprecated[n]=!0,e&&(r._descriptors[n]={get:function(){throw new Error(n+" is deprecated.")},set:function(e){},enumerable:!1,configurable:!0})}},t.defineTypes=function(e,n,r){for(var o in void 0===r&&(r=t.globalContext),n)s(n[o],r)(e.prototype,o);return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SchemaSerializer=t.FossilDeltaSerializer=t.registerSerializer=void 0,n(16);var r=n(17);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return r.Client}});var o=n(7);Object.defineProperty(t,"Protocol",{enumerable:!0,get:function(){return o.Protocol}}),Object.defineProperty(t,"ErrorCode",{enumerable:!0,get:function(){return o.ErrorCode}});var i=n(4);Object.defineProperty(t,"Room",{enumerable:!0,get:function(){return i.Room}});var s=n(11);Object.defineProperty(t,"Auth",{enumerable:!0,get:function(){return s.Auth}}),Object.defineProperty(t,"Platform",{enumerable:!0,get:function(){return s.Platform}});var a=n(29);Object.defineProperty(t,"FossilDeltaSerializer",{enumerable:!0,get:function(){return a.FossilDeltaSerializer}});var c=n(34);Object.defineProperty(t,"SchemaSerializer",{enumerable:!0,get:function(){return c.SchemaSerializer}});var u=n(6);Object.defineProperty(t,"registerSerializer",{enumerable:!0,get:function(){return u.registerSerializer}}),u.registerSerializer("fossil-delta",a.FossilDeltaSerializer),u.registerSerializer("schema",c.SchemaSerializer)},function(e,t){ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return null!==e&&"object"==s(e)&&e.buffer instanceof ArrayBuffer})},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Client=t.MatchMakeError=void 0;var a=n(3),c=n(18),u=n(4),l=n(11),h=n(28),f=function(e){function t(n,r){var o=e.call(this,n)||this;return o.code=r,Object.setPrototypeOf(o,t.prototype),o}return o(t,e),t}(Error);t.MatchMakeError=f;var p=function(){function e(e){void 0===e&&(e=location.protocol.replace("http","ws")+"//"+location.hostname+(location.port&&":"+location.port)),this.endpoint=e,this.auth=new l.Auth(this.endpoint),this.push=new h.Push(this.endpoint)}return e.prototype.joinOrCreate=function(e,t,n){return void 0===t&&(t={}),i(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("joinOrCreate",e,t,n)];case 1:return[2,r.sent()]}})})},e.prototype.create=function(e,t,n){return void 0===t&&(t={}),i(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("create",e,t,n)];case 1:return[2,r.sent()]}})})},e.prototype.join=function(e,t,n){return void 0===t&&(t={}),i(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("join",e,t,n)];case 1:return[2,r.sent()]}})})},e.prototype.joinById=function(e,t,n){return void 0===t&&(t={}),i(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("joinById",e,t,n)];case 1:return[2,r.sent()]}})})},e.prototype.reconnect=function(e,t,n){return i(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("joinById",e,{sessionId:t},n)];case 1:return[2,r.sent()]}})})},e.prototype.getAvailableRooms=function(e){return void 0===e&&(e=""),i(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return t=this.endpoint.replace("ws","http")+"/matchmake/"+e,[4,a.get(t,{headers:{Accept:"application/json"}})];case 1:return[2,n.sent().data]}})})},e.prototype.consumeSeatReservation=function(e,t){return i(this,void 0,void 0,function(){var n;return s(this,function(r){return(n=this.createRoom(e.room.name,t)).id=e.room.roomId,n.sessionId=e.sessionId,n.connect(this.buildEndpoint(e.room,{sessionId:n.sessionId})),[2,new Promise(function(e,t){var r=function(e,n){return t(new c.ServerError(e,n))};n.onError.once(r),n.onJoin.once(function(){n.onError.remove(r),e(n)})})]})})},e.prototype.createMatchMakeRequest=function(e,t,n,r){return void 0===n&&(n={}),i(this,void 0,void 0,function(){var o,i;return s(this,function(s){switch(s.label){case 0:return o=this.endpoint.replace("ws","http")+"/matchmake/"+e+"/"+t,this.auth.hasToken&&(n.token=this.auth.token),[4,a.post(o,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})];case 1:if((i=s.sent().data).error)throw new f(i.error,i.code);return[2,this.consumeSeatReservation(i,r)]}})})},e.prototype.createRoom=function(e,t){return new u.Room(e,t)},e.prototype.buildEndpoint=function(e,t){void 0===t&&(t={});var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r+"="+t[r]);return this.endpoint+"/"+e.processId+"/"+e.roomId+"?"+n.join("&")},e}();t.Client=p},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ServerError=void 0;var i=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name="ServerError",r.code=t,r}return o(t,e),t}(Error);t.ServerError=i},function(e,t,n){function r(e,t){if(this._offset=t,e instanceof ArrayBuffer)this._buffer=e,this._view=new DataView(this._buffer);else{if(!ArrayBuffer.isView(e))throw new Error("Invalid argument");this._buffer=e.buffer,this._view=new DataView(this._buffer,e.byteOffset,e.byteLength)}}Object.defineProperty(t,"__esModule",{value:!0}),r.prototype._array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this._parse();return t},r.prototype._map=function(e){for(var t={},n=0;n<e;n++)t[this._parse()]=this._parse();return t},r.prototype._str=function(e){var t=function(e,t,n){for(var r="",o=0,i=t,s=t+n;i<s;i++){var a=e.getUint8(i);if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(o=(7&a)<<18|(63&e.getUint8(++i))<<12|(63&e.getUint8(++i))<<6|(63&e.getUint8(++i))<<0)>=65536?(o-=65536,r+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):r+=String.fromCharCode(o)}else r+=String.fromCharCode((15&a)<<12|(63&e.getUint8(++i))<<6|(63&e.getUint8(++i))<<0);else r+=String.fromCharCode((31&a)<<6|63&e.getUint8(++i));else r+=String.fromCharCode(a)}return r}(this._view,this._offset,e);return this._offset+=e,t},r.prototype._bin=function(e){var t=this._buffer.slice(this._offset,this._offset+e);return this._offset+=e,t},r.prototype._parse=function(){var e,t=this._view.getUint8(this._offset++),n=0,r=0,o=0,i=0;if(t<192)return t<128?t:t<144?this._map(15&t):t<160?this._array(15&t):this._str(31&t);if(t>223)return-1*(255-t+1);switch(t){case 192:return null;case 194:return!1;case 195:return!0;case 196:return n=this._view.getUint8(this._offset),this._offset+=1,this._bin(n);case 197:return n=this._view.getUint16(this._offset),this._offset+=2,this._bin(n);case 198:return n=this._view.getUint32(this._offset),this._offset+=4,this._bin(n);case 199:return n=this._view.getUint8(this._offset),r=this._view.getInt8(this._offset+1),this._offset+=2,[r,this._bin(n)];case 200:return n=this._view.getUint16(this._offset),r=this._view.getInt8(this._offset+2),this._offset+=3,[r,this._bin(n)];case 201:return n=this._view.getUint32(this._offset),r=this._view.getInt8(this._offset+4),this._offset+=5,[r,this._bin(n)];case 202:return e=this._view.getFloat32(this._offset),this._offset+=4,e;case 203:return e=this._view.getFloat64(this._offset),this._offset+=8,e;case 204:return e=this._view.getUint8(this._offset),this._offset+=1,e;case 205:return e=this._view.getUint16(this._offset),this._offset+=2,e;case 206:return e=this._view.getUint32(this._offset),this._offset+=4,e;case 207:return o=this._view.getUint32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,o+i;case 208:return e=this._view.getInt8(this._offset),this._offset+=1,e;case 209:return e=this._view.getInt16(this._offset),this._offset+=2,e;case 210:return e=this._view.getInt32(this._offset),this._offset+=4,e;case 211:return o=this._view.getInt32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,o+i;case 212:return r=this._view.getInt8(this._offset),this._offset+=1,0===r?void(this._offset+=1):[r,this._bin(1)];case 213:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(2)];case 214:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(4)];case 215:return r=this._view.getInt8(this._offset),this._offset+=1,0===r?(o=this._view.getInt32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,new Date(o+i)):[r,this._bin(8)];case 216:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(16)];case 217:return n=this._view.getUint8(this._offset),this._offset+=1,this._str(n);case 218:return n=this._view.getUint16(this._offset),this._offset+=2,this._str(n);case 219:return n=this._view.getUint32(this._offset),this._offset+=4,this._str(n);case 220:return n=this._view.getUint16(this._offset),this._offset+=2,this._array(n);case 221:return n=this._view.getUint32(this._offset),this._offset+=4,this._array(n);case 222:return n=this._view.getUint16(this._offset),this._offset+=2,this._map(n);case 223:return n=this._view.getUint32(this._offset),this._offset+=4,this._map(n)}throw new Error("Could not parse")},t.default=function(e,t){void 0===t&&(t=0);var n=new r(e,t),o=n._parse();if(n._offset!==e.byteLength)throw new Error(e.byteLength-n._offset+" trailing bytes");return o}},function(e,t,n){function r(e,t,n){for(var r=0,o=0,i=n.length;o<i;o++)(r=n.charCodeAt(o))<128?e.setUint8(t++,r):r<2048?(e.setUint8(t++,192|r>>6),e.setUint8(t++,128|63&r)):r<55296||r>=57344?(e.setUint8(t++,224|r>>12),e.setUint8(t++,128|r>>6&63),e.setUint8(t++,128|63&r)):(o++,r=65536+((1023&r)<<10|1023&n.charCodeAt(o)),e.setUint8(t++,240|r>>18),e.setUint8(t++,128|r>>12&63),e.setUint8(t++,128|r>>6&63),e.setUint8(t++,128|63&r))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[],n=[],o=function e(t,n,r){var o=s(r),i=0,a=0,c=0,u=0,l=0,h=0;if("string"===o){if((l=function(e){for(var t=0,n=0,r=0,o=e.length;r<o;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(r))<32)t.push(160|l),h=1;else if(l<256)t.push(217,l),h=2;else if(l<65536)t.push(218,l>>8,l),h=3;else{if(!(l<4294967296))throw new Error("String too long");t.push(219,l>>24,l>>16,l>>8,l),h=5}return n.push({_str:r,_length:l,_offset:t.length}),h+l}if("number"===o)return Math.floor(r)===r&&isFinite(r)?r>=0?r<128?(t.push(r),1):r<256?(t.push(204,r),2):r<65536?(t.push(205,r>>8,r),3):r<4294967296?(t.push(206,r>>24,r>>16,r>>8,r),5):(c=r/Math.pow(2,32)>>0,u=r>>>0,t.push(207,c>>24,c>>16,c>>8,c,u>>24,u>>16,u>>8,u),9):r>=-32?(t.push(r),1):r>=-128?(t.push(208,r),2):r>=-32768?(t.push(209,r>>8,r),3):r>=-2147483648?(t.push(210,r>>24,r>>16,r>>8,r),5):(c=Math.floor(r/Math.pow(2,32)),u=r>>>0,t.push(211,c>>24,c>>16,c>>8,c,u>>24,u>>16,u>>8,u),9):(t.push(203),n.push({_float:r,_length:8,_offset:t.length}),9);if("object"===o){if(null===r)return t.push(192),1;if(Array.isArray(r)){if((l=r.length)<16)t.push(144|l),h=1;else if(l<65536)t.push(220,l>>8,l),h=3;else{if(!(l<4294967296))throw new Error("Array too large");t.push(221,l>>24,l>>16,l>>8,l),h=5}for(i=0;i<l;i++)h+=e(t,n,r[i]);return h}if(r instanceof Date){var f=r.getTime();return c=Math.floor(f/Math.pow(2,32)),u=f>>>0,t.push(215,0,c>>24,c>>16,c>>8,c,u>>24,u>>16,u>>8,u),10}if(r instanceof ArrayBuffer){if((l=r.byteLength)<256)t.push(196,l),h=2;else if(l<65536)t.push(197,l>>8,l),h=3;else{if(!(l<4294967296))throw new Error("Buffer too large");t.push(198,l>>24,l>>16,l>>8,l),h=5}return n.push({_bin:r,_length:l,_offset:t.length}),h+l}if("function"==typeof r.toJSON)return e(t,n,r.toJSON());var p=[],d="",y=Object.keys(r);for(i=0,a=y.length;i<a;i++)"function"!=typeof r[d=y[i]]&&p.push(d);if((l=p.length)<16)t.push(128|l),h=1;else if(l<65536)t.push(222,l>>8,l),h=3;else{if(!(l<4294967296))throw new Error("Object too large");t.push(223,l>>24,l>>16,l>>8,l),h=5}for(i=0;i<l;i++)h+=e(t,n,d=p[i]),h+=e(t,n,r[d]);return h}if("boolean"===o)return t.push(r?195:194),1;if("undefined"===o)return t.push(212,0,0),3;throw new Error("Could not encode")}(t,n,e),i=new ArrayBuffer(o),a=new DataView(i),c=0,u=0,l=-1;n.length>0&&(l=n[0]._offset);for(var h,f=0,p=0,d=0,y=t.length;d<y;d++)if(a.setUint8(u+d,t[d]),d+1===l){if(f=(h=n[c])._length,p=u+l,h._bin)for(var v=new Uint8Array(h._bin),g=0;g<f;g++)a.setUint8(p+g,v[g]);else h._str?r(a,p,h._str):void 0!==h._float&&a.setFloat64(p,h._float);u+=f,n[++c]&&(l=n[c]._offset)}return i}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.handlers=[]}return e.prototype.register=function(e,t){return void 0===t&&(t=!1),this.handlers.push(e),this},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.handlers.forEach(function(t){return t.apply(void 0,e)})},e.prototype.invokeAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Promise.all(this.handlers.map(function(t){return t.apply(void 0,e)}))},e.prototype.remove=function(e){var t=this.handlers.indexOf(e);this.handlers[t]=this.handlers[this.handlers.length-1],this.handlers.pop()},e.prototype.clear=function(){this.handlers=[]},e}();t.EventEmitter=r,t.createSignal=function(){var e=new r;function t(t){return e.register(t,null===this)}return t.once=function(t){e.register(function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t.apply(void 0,r),e.remove(n)})},t.remove=function(t){return e.remove(t)},t.invoke=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.invoke.apply(e,t)},t.invokeAsync=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.invokeAsync.apply(e,t)},t.clear=function(){return e.clear()},t}},function(e,t,n){n.r(t),n.d(t,"createNanoEvents",function(){return o});var o=function(){return{events:{},emit:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i,s=r(this.events[e]||[]);try{for(s.s();!(i=s.n()).done;){i.value.apply(void 0,n)}}catch(e){s.e(e)}finally{s.f()}},on:function(e,t){var n=this;return(this.events[e]=this.events[e]||[]).push(t),function(){return n.events[e]=n.events[e].filter(function(e){return e!==t})}}}}},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0;var s=i(n(24)),a=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t,void 0,{connect:n})||this;return r._enqueuedCalls=[],r}return o(t,e),t.prototype.onOpenCallback=function(t){if(e.prototype.onOpenCallback.call(this),this.binaryType="arraybuffer",this._enqueuedCalls.length>0){for(var n=0,r=this._enqueuedCalls;n<r.length;n++){var o=r[n],i=o[0],s=o[1];this[i].apply(this,s)}this._enqueuedCalls=[]}},t.prototype.send=function(t){if(this.ws.readyState===s.default.OPEN){if(t instanceof ArrayBuffer)return e.prototype.send.call(this,t);if(Array.isArray(t))return e.prototype.send.call(this,new Uint8Array(t).buffer)}else this._enqueuedCalls.push(["send",[t]])},t}(s.default);t.Connection=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(25).createBackoff,s="undefined"!=typeof WebSocket?WebSocket:n(26),a=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(this,e),this.url=t,this.protocols=n,this.reconnectEnabled=!0,this.listeners={},this.backoff=i(r.backoff||"exponential",r),this.backoff.onReady=this.onBackoffReady.bind(this),(void 0===r.connect||r.connect)&&this.open()}return r(e,[{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isReconnect=e;var t=this.ws&&this.ws.binaryType;this.ws=new s(this.url,this.protocols),this.ws.onclose=this.onCloseCallback.bind(this),this.ws.onerror=this.onErrorCallback.bind(this),this.ws.onmessage=this.onMessageCallback.bind(this),this.ws.onopen=this.onOpenCallback.bind(this),t&&(this.ws.binaryType=t)}},{key:"onBackoffReady",value:function(e,t){this.open(!0)}},{key:"onCloseCallback",value:function(e){!this.isReconnect&&this.listeners.onclose&&this.listeners.onclose.apply(null,arguments),this.reconnectEnabled&&e.code<3e3&&this.backoff.backoff()}},{key:"onErrorCallback",value:function(){this.listeners.onerror&&this.listeners.onerror.apply(null,arguments)}},{key:"onMessageCallback",value:function(){this.listeners.onmessage&&this.listeners.onmessage.apply(null,arguments)}},{key:"onOpenCallback",value:function(){this.listeners.onopen&&this.listeners.onopen.apply(null,arguments),this.isReconnect&&this.listeners.onreconnect&&this.listeners.onreconnect.apply(null,arguments),this.isReconnect=!1}},{key:"close",value:function(e,t){void 0===e&&(e=1e3),this.reconnectEnabled=!1,this.ws.close(e,t)}},{key:"send",value:function(e){this.ws.send(e)}},{key:"bufferedAmount",get:function(){return this.ws.bufferedAmount}},{key:"readyState",get:function(){return this.ws.readyState}},{key:"binaryType",get:function(){return this.ws.binaryType},set:function(e){this.ws.binaryType=e}},{key:"extensions",get:function(){return this.ws.extensions},set:function(e){this.ws.extensions=e}},{key:"protocol",get:function(){return this.ws.protocol},set:function(e){this.ws.protocol=e}},{key:"onclose",set:function(e){this.listeners.onclose=e},get:function(){return this.listeners.onclose}},{key:"onerror",set:function(e){this.listeners.onerror=e},get:function(){return this.listeners.onerror}},{key:"onmessage",set:function(e){this.listeners.onmessage=e},get:function(){return this.listeners.onmessage}},{key:"onopen",set:function(e){this.listeners.onopen=e},get:function(){return this.listeners.onopen}},{key:"onreconnect",set:function(e){this.listeners.onreconnect=e},get:function(){return this.listeners.onreconnect}}]),e}();a.CONNECTING=s.CONNECTING,a.OPEN=s.OPEN,a.CLOSING=s.CLOSING,a.CLOSED=s.CLOSED,t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createBackoff=function(e,t){return new o(r[e],t)};var r={exponential:function(e,t){return Math.floor(Math.random()*Math.pow(2,e)*t)},fibonacci:function(e,t){if(e>(r=1))for(var n=1,r=2,o=2;o<e;o++){var i=n+r;n=r,r=i}return Math.floor(Math.random()*r*t)}};function o(e,t){this.func=e,this.attempts=0,this.delay=void 0!==t.initialDelay?t.initialDelay:100}o.prototype.backoff=function(){setTimeout(this.onReady,this.func(++this.attempts,this.delay))}},function(e,t){},function(e,t,n){var r;function o(){return r||(r="undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:"undefined"!=typeof window&&window.localStorage?window.localStorage:{cache:{},setItem:function(e,t){this.cache[e]=t},getItem:function(e){this.cache[e]},removeItem:function(e){delete this.cache[e]}}),r}Object.defineProperty(t,"__esModule",{value:!0}),t.getItem=t.removeItem=t.setItem=void 0,t.setItem=function(e,t){o().setItem(e,t)},t.removeItem=function(e){o().removeItem(e)},t.getItem=function(e,t){var n=o().getItem(e);"undefined"!=typeof Promise&&n instanceof Promise?n.then(function(e){return t(e)}):t(n)}},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Push=void 0;var i=function(){function e(e){this.endpoint=e.replace("ws","http")}return e.prototype.register=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.check(),[4,this.registerServiceWorker()];case 1:return e.sent(),[4,this.requestNotificationPermission()];case 2:return e.sent(),[2]}})})},e.prototype.registerServiceWorker=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,navigator.serviceWorker.register(this.endpoint+"/push")];case 1:return[2,e.sent()]}})})},e.prototype.requestNotificationPermission=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,window.Notification.requestPermission()];case 1:if("granted"!==e.sent())throw new Error("Permission not granted for Notification");return[2]}})})},e.prototype.check=function(){if(!("serviceWorker"in navigator))throw new Error("No Service Worker support!");if(!("PushManager"in window))throw new Error("No Push API Support!")},e}();t.Push=i},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FossilDeltaSerializer=void 0;var s=n(30),a=i(n(33)),c=i(n(5)),u=function(){function e(){this.api=new s.StateContainer({})}return e.prototype.getState=function(){return this.api.state},e.prototype.setState=function(e){this.previousState=new Uint8Array(e),this.api.set(c.decode(this.previousState))},e.prototype.patch=function(e){this.previousState=new Uint8Array(a.apply(this.previousState,e)),this.api.set(c.decode(this.previousState))},e.prototype.teardown=function(){this.api.removeAllListeners()},e}();t.FossilDeltaSerializer=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(31);t.StateContainer=r.StateContainer},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(32),o=function(){function e(e){this.listeners=[],this.matcherPlaceholders={":id":/^([a-zA-Z0-9\-_]+)$/,":number":/^([0-9]+)$/,":string":/^(\w+)$/,":axis":/^([xyz])$/,":*":/(.*)/},this.state=e,this.reset()}return e.prototype.set=function(e){var t=r.compare(this.state,e);return this.state=e,this.checkPatches(t,this.listeners,this.defaultListener),t},e.prototype.registerPlaceholder=function(e,t){this.matcherPlaceholders[e]=t},e.prototype.listen=function(e,t,n){var o,i=this;"function"==typeof e?(o=[],t=e):o=e.split("/"),t.length>1&&console.warn(".listen() accepts only one parameter.");var s={callback:t,rawRules:o,rules:o.map(function(e){return"string"==typeof e?0===e.indexOf(":")?i.matcherPlaceholders[e]||i.matcherPlaceholders[":*"]:new RegExp("^"+e+"$"):e})};return 0===o.length?this.defaultListener=s:this.listeners.push(s),n&&this.checkPatches(r.compare({},this.state),[s]),s},e.prototype.removeListener=function(e){for(var t=this.listeners.length-1;t>=0;t--)this.listeners[t]===e&&this.listeners.splice(t,1)},e.prototype.removeAllListeners=function(){this.reset()},e.prototype.checkPatches=function(e,t,n){for(var r=0,o=t.length;r<o;r++)for(var i=t[r],s=e.length-1;s>=0;s--){var a=i&&this.getPathVariables(e[s],i);a&&(i.callback({path:a,rawPath:e[s].path,operation:e[s].operation,value:e[s].value}),e[s].matched=!0)}if(n)for(s=e.length-1;s>=0;s--)e[s].matched||n.callback(e[s])},e.prototype.getPathVariables=function(e,t){if(e.path.length!==t.rules.length)return!1;for(var n={},r=0,o=t.rules.length;r<o;r++){var i=e.path[r].match(t.rules[r]);if(!i||0===i.length||i.length>2)return!1;":"===t.rawRules[r].substr(0,1)&&(n[t.rawRules[r].substr(1)]=i[1])}return n},e.prototype.reset=function(){this.listeners=[]},e}();t.StateContainer=o},function(e,t,n){function r(e,t){var n=e.slice();return n.push(t),n}function o(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var o in e)e.hasOwnProperty(o)&&r.push(o);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.compare=function(e,t){var n=[];return function e(t,n,i,a){for(var c=o(n),u=o(t),l=!1,h=u.length-1;h>=0;h--){var f=u[h],p=t[f];if(!n.hasOwnProperty(f)||void 0===n[f]&&void 0!==p&&!1===Array.isArray(n))i.push({operation:"remove",path:r(a,f)}),l=!0;else{var d=n[f];"object"==s(p)&&null!=p&&"object"==s(d)&&null!=d?e(p,d,i,r(a,f)):p!==d&&i.push({operation:"replace",path:r(a,f),value:d,previousValue:p})}}if(l||c.length!=u.length)for(h=c.length-1;h>=0;h--)if(f=c[h],!t.hasOwnProperty(f)&&void 0!==n[f]){d=n[f];var y=r(a,f);"object"==s(d)&&null!=d&&e({},d,i,y),i.push({operation:"add",path:y,value:d})}}(e,t,n,[]),n}},function(e,t,n){var r;r=function(){var e={};function t(){this.a=0,this.b=0,this.i=0,this.z=new Array(16)}t.prototype.init=function(e,t){var n,r,o=0,i=0;for(n=0;n<16;n++)o=o+(r=e[t+n])&65535,i=i+(16-n)*r&65535,this.z[n]=r;this.a=65535&o,this.b=65535&i,this.i=0},t.prototype.next=function(e){var t=this.z[this.i];this.z[this.i]=e,this.i=this.i+1&15,this.a=this.a-t+e&65535,this.b=this.b-16*t+this.a&65535},t.prototype.value=function(){return(65535&this.a|(65535&this.b)<<16)>>>0};var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz~".split("").map(function(e){return e.charCodeAt(0)}),r=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,36,-1,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,-1,-1,-1,63,-1];function o(e){this.a=e,this.pos=0}function i(){this.a=[]}function s(e){var t,n;for(t=1,n=64;e>=n;t++,n<<=6);return t}function a(e){for(var t=0,n=0,r=0,o=0,i=0,s=e.length;s>=16;)t=t+e[i+0]|0,n=n+e[i+1]|0,r=r+e[i+2]|0,o=o+e[i+3]|0,t=t+e[i+4]|0,n=n+e[i+5]|0,r=r+e[i+6]|0,o=o+e[i+7]|0,t=t+e[i+8]|0,n=n+e[i+9]|0,r=r+e[i+10]|0,o=o+e[i+11]|0,t=t+e[i+12]|0,n=n+e[i+13]|0,r=r+e[i+14]|0,o=o+e[i+15]|0,i+=16,s-=16;for(;s>=4;)t=t+e[i+0]|0,n=n+e[i+1]|0,r=r+e[i+2]|0,o=o+e[i+3]|0,i+=4,s-=4;switch(o=((o+(r<<8)|0)+(n<<16)|0)+(t<<24)|0,s){case 3:o=o+(e[i+2]<<8)|0;case 2:o=o+(e[i+1]<<16)|0;case 1:o=o+(e[i+0]<<24)|0}return o>>>0}return o.prototype.haveBytes=function(){return this.pos<this.a.length},o.prototype.getByte=function(){var e=this.a[this.pos];if(this.pos++,this.pos>this.a.length)throw new RangeError("out of bounds");return e},o.prototype.getChar=function(){return String.fromCharCode(this.getByte())},o.prototype.getInt=function(){for(var e,t=0;this.haveBytes()&&(e=r[127&this.getByte()])>=0;)t=(t<<6)+e;return this.pos--,t>>>0},i.prototype.toArray=function(){return this.a},i.prototype.putByte=function(e){this.a.push(255&e)},i.prototype.putChar=function(e){this.putByte(e.charCodeAt(0))},i.prototype.putInt=function(e){var t,r,o=[];if(0!==e){for(t=0;e>0;t++,e>>>=6)o.push(n[63&e]);for(r=t-1;r>=0;r--)this.putByte(o[r])}else this.putChar("0")},i.prototype.putArray=function(e,t,n){for(var r=t;r<n;r++)this.a.push(e[r])},e.create=function(e,n){var r,o=new i,c=n.length,u=e.length,l=-1;if(o.putInt(c),o.putChar("\n"),u<=16)return o.putInt(c),o.putChar(":"),o.putArray(n,0,c),o.putInt(a(n)),o.putChar(";"),o.toArray();var h=Math.ceil(u/16),f=new Array(h),p=new Array(h);for(r=0;r<f.length;r++)f[r]=-1;for(r=0;r<p.length;r++)p[r]=-1;var d,y=new t;for(r=0;r<u-16;r+=16)y.init(e,r),d=y.value()%h,f[r/16]=p[d],p[d]=r/16;for(var v,g,m,_,b,w=0;w+16<c;)for(_=0,b=0,y.init(n,w),r=0,m=0;;){var C=250;for(g=p[d=y.value()%h];g>=0&&C-- >0;){var x,k,O,A,M,S,E;for(A=0,S=v=16*g,E=w+r;S<u&&E<c&&e[S]===n[E];A++,S++,E++);for(A--,M=1;M<v&&M<=r&&e[v-M]===n[w+r-M];M++);k=v- --M,O=r-M,(x=A+M+1)>=s(r-M)+s(x)+s(k)+3&&x>m&&(m=x,_=v-M,b=O),g=f[g]}if(m>0){b>0&&(o.putInt(b),o.putChar(":"),o.putArray(n,w,w+b),w+=b),w+=m,o.putInt(m),o.putChar("@"),o.putInt(_),o.putChar(","),_+m-1>l&&(l=_+m-1),m=0;break}if(w+r+16>=c){o.putInt(c-w),o.putChar(":"),o.putArray(n,w,w+c-w),w=c;break}y.next(n[w+r+16]),r++}return w<c&&(o.putInt(c-w),o.putChar(":"),o.putArray(n,w,w+c-w)),o.putInt(a(n)),o.putChar(";"),o.toArray()},e.outputSize=function(e){var t=new o(e),n=t.getInt();if("\n"!==t.getChar())throw new Error("size integer not terminated by '\\n'");return n},e.apply=function(e,t,n){var r,s=0,c=new o(t),u=e.length,l=t.length;if(r=c.getInt(),"\n"!==c.getChar())throw new Error("size integer not terminated by '\\n'");for(var h=new i;c.haveBytes();){var f,p;switch(f=c.getInt(),c.getChar()){case"@":if(p=c.getInt(),c.haveBytes()&&","!==c.getChar())throw new Error("copy command not terminated by ','");if((s+=f)>r)throw new Error("copy exceeds output file size");if(p+f>u)throw new Error("copy extends past end of input");h.putArray(e,p,p+f);break;case":":if((s+=f)>r)throw new Error("insert command gives an output larger than predicted");if(f>l)throw new Error("insert count exceeds size of delta");h.putArray(c.a,c.pos,c.pos+f),c.pos+=f;break;case";":var d=h.toArray();if((!n||!1!==n.verifyChecksum)&&f!==a(d))throw new Error("bad checksum");if(s!==r)throw new Error("generated size does not match predicted size");return d;default:throw new Error("unknown delta operator")}}throw new Error("unterminated delta")},e},e.exports?e.exports=r():this.fossilDelta=r()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SchemaSerializer=void 0;var r=n(12),o=function(){function e(){}return e.prototype.setState=function(e){this.state.decode(e)},e.prototype.getState=function(){return this.state},e.prototype.patch=function(e){this.state.decode(e)},e.prototype.teardown=function(){},e.prototype.handshake=function(e,t){this.state?(new r.Reflection).decode(e,t):this.state=r.Reflection.decode(e)},e}();t.SchemaSerializer=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.handlers=[]}return e.prototype.register=function(e,t){return void 0===t&&(t=!1),this.handlers.push(e),this},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.handlers.forEach(function(t){return t.apply(void 0,e)})},e.prototype.invokeAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Promise.all(this.handlers.map(function(t){return t.apply(void 0,e)}))},e.prototype.remove=function(e){var t=this.handlers.indexOf(e);this.handlers[t]=this.handlers[this.handlers.length-1],this.handlers.pop()},e.prototype.clear=function(){this.handlers=[]},e}();t.EventEmitter=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=n(1),i=n(0);t.dumpChanges=function e(t){for(var n={},s=t.$changes,a=t._fieldsByIndex||{},c=0,u=Array.from(s.changes);c<u.length;c++){var l=u[c],h=a[l]||l;t[h]instanceof o.MapSchema||t[h]instanceof i.ArraySchema||t[h]instanceof r.Schema?n[h]=e(t[h]):n[h]=t[h]}return n}},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),c=n(2),u=n(0),l=n(1),h=new a.Context,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),i([a.type("string",h)],t.prototype,"name",void 0),i([a.type("string",h)],t.prototype,"type",void 0),i([a.type("uint8",h)],t.prototype,"referencedType",void 0),t}(c.Schema);t.ReflectionField=f;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fields=new u.ArraySchema,t}return o(t,e),i([a.type("uint8",h)],t.prototype,"id",void 0),i([a.type([f],h)],t.prototype,"fields",void 0),t}(c.Schema);t.ReflectionType=p;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.types=new u.ArraySchema,t}return o(t,e),t.encode=function(e){var n=e.constructor,r=new t;r.rootType=n._typeid;var o=function(e,t){for(var n in t){var o=new f;o.name=n;var i=void 0;if("string"==typeof t[n])i=t[n];else{var s="function"==typeof t[n],a=Array.isArray(t[n]),c=!a&&t[n].map,u=void 0;s?(i="ref",u=t[n]):a?(i="array","string"==typeof t[n][0]?i+=":"+t[n][0]:u=t[n][0]):c&&(i="map","string"==typeof t[n].map?i+=":"+t[n].map:u=t[n].map),o.referencedType=u?u._typeid:255}o.type=i,e.fields.push(o)}r.types.push(e)},i=n._context.types;for(var s in i){var a=new p;a.id=Number(s),o(a,i[s]._schema)}return r.encodeAll()},t.decode=function(e){var n=new a.Context,r=new t;r.decode(e);var i=r.types.reduce(function(e,t){return e[t.id]=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(c.Schema),e},{});r.types.forEach(function(e,t){e.fields.forEach(function(t){var r=i[e.id];if(void 0!==t.referencedType){var o=i[t.referencedType];o||(o=t.type.split(":")[1]),0===t.type.indexOf("array")?a.type([o],n)(r.prototype,t.name):0===t.type.indexOf("map")?a.type({map:o},n)(r.prototype,t.name):"ref"===t.type&&a.type(o,n)(r.prototype,t.name)}else a.type(t.type,n)(r.prototype,t.name)})});var s=i[r.rootType],h=new s;for(var f in s._schema){var p=s._schema[f];if("string"!=typeof p){var d="function"==typeof p,y=Array.isArray(p),v=!y&&p.map;h[f]=y?new u.ArraySchema:v?new l.MapSchema:d?new p:void 0}}return h},i([a.type([p],h)],t.prototype,"types",void 0),i([a.type("uint8",h)],t.prototype,"rootType",void 0),t}(c.Schema);t.Reflection=d}])}),cc._RF.pop()},{}],"elephant-fish":[function(e,t,n){"use strict";cc._RF.push(t,"c203esfkzlCbrqKVLwvxmkM","elephant-fish"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[0,3])})}}),cc._RF.pop()},{}],"elephant-tiger":[function(e,t,n){"use strict";cc._RF.push(t,"0dd7fNq5FRKzZaZKZ8XygDu","elephant-tiger"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[0,1])})}}),cc._RF.pop()},{}],"elephant-tortoise":[function(e,t,n){"use strict";cc._RF.push(t,"86d9d4abI5BPbiCtXzxcHdM","elephant-tortoise"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[0,4])})}}),cc._RF.pop()},{}],elephant:[function(e,t,n){"use strict";cc._RF.push(t,"e18d3HFcC1F1q4UJk26RpcA","elephant"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",0)}),console.log(this.node.children)},addBetCoins:function(){var e=cc.instantiate(this.coin);this.node.addChild(e),e.setPosition(12,12)}}),cc._RF.pop()},{}],"fish-chicken":[function(e,t,n){"use strict";cc._RF.push(t,"c3897GAC/pJZ7JH+yXv5Uap","fish-chicken"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[2,3])})}}),cc._RF.pop()},{}],"fish-prawn":[function(e,t,n){"use strict";cc._RF.push(t,"361a068odVA5ruczICzbGJ6","fish-prawn"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[3,5])})}}),cc._RF.pop()},{}],"fish-tortoise":[function(e,t,n){"use strict";cc._RF.push(t,"5ba0a80LClOcY7M8usmvBBD","fish-tortoise"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[3,4])})}}),cc._RF.pop()},{}],fish:[function(e,t,n){"use strict";cc._RF.push(t,"63b3a+cO4lLvr2TTDCKPnBc","fish"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",3)})}}),cc._RF.pop()},{}],game:[function(e,t,n){"use strict";cc._RF.push(t,"89d98l8mKtGerxQxq65GpFe","game");var r=e("colyseus");cc.Class({extends:cc.Component,properties:{gameCD:{default:null,type:cc.Label},playerCount:{default:null,type:cc.Label},message:{default:null,type:cc.Label},result:{default:null,type:cc.Label},userName:{default:null,type:cc.Label},userMoney:{default:null,type:cc.Label},coin:{default:null,type:cc.Prefab},elephant:{default:null,type:cc.Node},tiger:{default:null,type:cc.Node},chicken:{default:null,type:cc.Node},fish:{default:null,type:cc.Node},tiger_chicken:{default:null,type:cc.Node},elephant_tiger:{default:null,type:cc.Node},elephant_fish:{default:null,type:cc.Node},fish_tortoise:{default:null,type:cc.Node},tortoise:{default:null,type:cc.Node},tiger_tortoise:{default:null,type:cc.Node},chicken_prawn:{default:null,type:cc.Node},tortoise_prawn:{default:null,type:cc.Node},prawn:{default:null,type:cc.Node},elephant_tiger1:{default:null,type:cc.Node},tiger_tortoise1:{default:null,type:cc.Node},fish_prawn:{default:null,type:cc.Node},chicken_fish:{default:null,type:cc.Node},elephant_tortoise:{default:null,type:cc.Node},elephant_fish1:{default:null,type:cc.Node},chicken_prawn1:{default:null,type:cc.Node},tiger_prawn:{default:null,type:cc.Node},moving_betcoins:{default:null,type:cc.Node},bet_amount:{default:null,type:cc.Node},bet_picker:{default:null,type:cc.Node},openBowl:{default:null,type:cc.Node},recentResults:{default:null,type:cc.Node},resultCol:{default:null,type:cc.Prefab},resultDices:{default:null,type:cc.Node},wave:{default:null,type:cc.Prefab},elephantPercent:{default:null,type:cc.Label},tigerPercent:{default:null,type:cc.Label},chickenPercent:{default:null,type:cc.Label},fishPercent:{default:null,type:cc.Label},tortoisePercent:{default:null,type:cc.Label},prawnPercent:{default:null,type:cc.Label}},play:function(e,t){""!=this.betamount?(this.chosenNode=t,this.room.send("play",{animal:e,amount:this.betamount}),this.moving_betcoins.getComponent("moving-betcoins").createPlatform(t.name)):window.alert("You Already Bet")},onLoad:function(){var e=this;this.results=[],this.animate=this.openBowl.getComponent("openBowl"),this.show_betamount=!1,this.bet_picker.on("changeBet",function(){e.show_betamount?(e.bet_amount.getComponent("bet-amount").remove(),e.show_betamount=!1):(e.show_betamount=!0,e.bet_amount.getComponent("bet-amount").init())}),this.bet_amount.on("betamount",function(t){console.log("hii",t),e.bet_picker.getComponent("bet-picker").changeSprite(t),e.show_betamount=!1,e.betamount=t}),this.fish_tortoise.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.fish_tortoise)}),this.tiger_prawn.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.tiger_prawn)}),this.chicken_prawn1.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.chicken_prawn1)}),this.elephant_fish1.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.elephant_fish1)}),this.elephant_tortoise.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.elephant_tortoise)}),this.chicken_fish.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.chicken_fish)}),this.fish_prawn.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.fish_prawn)}),this.tiger_tortoise1.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.tiger_tortoise1)}),this.prawn.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.prawn)}),this.tortoise_prawn.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.tortoise_prawn)}),this.chicken_prawn.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.chicken_prawn)}),this.tiger_tortoise.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.tiger_tortoise)}),this.tortoise.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.tortoise)}),this.elephant_fish.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.elephant_fish)}),this.elephant.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.elephant)}),this.tiger.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.tiger)}),this.chicken.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.chicken)}),this.fish.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.fish)}),this.tiger_chicken.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.tiger_chicken)}),this.elephant_tiger.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.elephant_tiger)}),this.elephant_tiger1.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.elephant_tiger1)}),this.isBetted=!1,this.user="Inf1290",this.currentMoney=2e3,this.betamount=50,this.userName.string=this.user,this.userMoney.string=this.currentMoney.toString(),this.client=new r.Client("ws://188.166.244.222:3333/"),this.client.joinOrCreate("DOG",{userName:this.user,currentMoney:this.currentMoney}).then(function(t){console.log("joined successfully",t),e.room=t,e.joinSuccess()}).catch(function(e){console.log("join error:\n",e)})},joinSuccess:function(){var e=this;console.log("asasd-",this.room.id,this.room.state),this.room.state.onChange=function(t){switch(e.playerCount.string=Object.keys(e.room.state.players).length,e.gameCD.string=e.room.state.gameCountDown.toString(),e.room.state.gameCountDown){case 5:console.log(e.room.state.gameCountDown),e.resultDices.removeAllChildren()}},this.room.state.result.onAdd=function(t,n){if(0==e.results.length){if(console.log("running 1st"),0!=e.room.state.result.length){e.results=e.room.state.result;for(var r=0;r<e.results.length;r++)e.createResultCol([e.results[r].x,e.results[r].y,e.results[r].z],r);console.log(e.recentResults.children.length,"1st")}}else{console.log("running 2ndt");var o=e.room.state.result[e.room.state.result.length-1];e.createResultCol([o.x,o.y,o.z],10),console.log(e.recentResults.children.length,"2nd1st",[o.x,o.y,o.z]);for(var i=0;i<e.recentResults.children.length;i++)e.cols.move(e.recentResults.children[i],i);console.log(e.recentResults.children.length,"2nd2nd")}},this.room.onMessage("result",function(t){console.log("data received from server"),console.log(t),e.result.string=t.result.join(","),e.resultDices.getComponent("result_dices").init(t.result);var n=e.convertedResultArr(t.result),r=e.bankerArr(t.result);for(var o in n)e.moving_betcoins.getComponent("moving-betcoins").playerWinMove(n[o]);for(var i in r)e.moving_betcoins.getComponent("moving-betcoins").bankerWinMove(r[i])}),this.room.onMessage("played",function(t){console.log("user got result played"),e.userMoney.string=t.amount.toString(),e.message.string=t.message,e.isBetted=!1}),this.room.onMessage("timeout",function(t){e.message.string=t,e.moving_betcoins.getComponent("moving-betcoins").remove(),e.isBetted=!1}),this.room.onMessage("normalPlayerPlayed",function(t){console.log("normalPlayerPlayed"),e.moving_betcoins.getComponent("moving-betcoins").createPlatform(e.convertedResultArr([t.animal])[0])}),this.room.onMessage("resultPercent",function(t){console.log("animal %",t),e.elephantPercent.string=t.data[0].toString()+"%",e.tigerPercent.string=t.data[1].toString()+"%",e.chickenPercent.string=t.data[2].toString()+"%",e.fishPercent.string=t.data[3].toString()+"%",e.tortoisePercent.string=t.data[4].toString()+"%",e.prawnPercent.string=t.data[5].toString()+"%"})},convertedResultArr:function(e){var t=[];return e.includes(0)&&t.push("elephant"),e.includes(1)&&t.push("tiger"),e.includes(2)&&t.push("chicken"),e.includes(3)&&t.push("fish"),e.includes(4)&&t.push("tortoise"),e.includes(5)&&t.push("prawn"),e.includes(0)&&e.includes(3)&&t.push("elephant-fish"),e.includes(0)&&e.includes(1)&&(t.push("elephant-tiger"),t.push("elephant-tiger1")),e.includes(1)&&e.includes(2)&&t.push("tiger-chicken"),e.includes(3)&&e.includes(4)&&t.push("fish-tortoise"),e.includes(1)&&e.includes(4)&&(t.push("tiger-tortoise"),t.push("tiger-tortoise1")),e.includes(0)&&e.includes(3)&&(t.push("elephant-fish"),t.push("elephant-fish1")),e.includes(2)&&e.includes(5)&&(t.push("chicken-prawn"),t.push("chicken-prawn1")),e.includes(4)&&e.includes(5)&&t.push("tortoise-prawn"),e.includes(3)&&e.includes(5)&&t.push("fish-prawn"),e.includes(2)&&e.includes(3)&&t.push("chicken-fish"),e.includes(0)&&e.includes(4)&&t.push("elephant-tortoise"),e.includes(1)&&e.includes(5)&&t.push("tiger-prawn"),t},bankerArr:function(e){var t=[];return e.includes(0)||t.push("elephant"),e.includes(1)||t.push("tiger"),e.includes(2)||t.push("chicken"),e.includes(3)||t.push("fish"),e.includes(4)||t.push("tortoise"),e.includes(5)||t.push("prawn"),e.includes(0)&&e.includes(3)||t.push("elephant-fish"),e.includes(0)&&e.includes(1)||(t.push("elephant-tiger"),t.push("elephant-tiger1")),e.includes(1)&&e.includes(2)||t.push("tiger-chicken"),e.includes(3)&&e.includes(4)||t.push("fish-tortoise"),e.includes(1)&&e.includes(4)||(t.push("tiger-tortoise"),t.push("tiger-tortoise1")),e.includes(0)&&e.includes(3)||(t.push("elephant-fish"),t.push("elephant-fish1")),e.includes(2)&&e.includes(5)||(t.push("chicken-prawn"),t.push("chicken-prawn1")),e.includes(4)&&e.includes(5)||t.push("tortoise-prawn"),e.includes(3)&&e.includes(5)||t.push("fish-prawn"),e.includes(2)&&e.includes(3)||t.push("chicken-fish"),e.includes(0)&&e.includes(4)||t.push("elephant-tortoise"),e.includes(1)&&e.includes(5)||t.push("tiger-prawn"),t},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(t){return e.createWave(t)})},createWave:function(e){var t=cc.instantiate(this.wave);this.node.addChild(t),t.getComponent("wave").init(e.getLocationX(),e.getLocationY()),console.log("canvas is touched")},createResultCol:function(e,t){cc.log("creating result list",t);var n=cc.instantiate(this.resultCol);this.recentResults.addChild(n),this.cols=n.getComponent("result_col"),this.cols.init(e,t)},removeCoins:function(){},update:function(e){}}),cc._RF.pop()},{colyseus:"colyseus"}],layoutContainer:[function(e,t,n){"use strict";cc._RF.push(t,"14e47LQ7ZFGdoqXPmVrBCs3","layoutContainer");var r=e("axios");cc.Class({extends:cc.Component,properties:{historyRow:{default:null,type:cc.Prefab},pageNumber:{default:null,type:cc.Label},Nohistory:{default:null,type:cc.Node}},onLoad:function(){this.pageNo=0,this.pageNumber.string=(this.pageNo+1).toString()},init:function(e){for(var t in e){var n=cc.instantiate(this.historyRow);this.node.addChild(n),n.x=355,cc.tween(n).to(.5+t/10,{position:cc.v2(0)}).call(function(){}).start(),n.getChildByName("No").getComponent(cc.Label).string=t,n.getChildByName("roundId").getComponent(cc.Label).string=e[t].roundId,n.getChildByName("strake").getComponent(cc.Label).string=e[t].stake,n.getChildByName("win").getComponent(cc.Label).string=e[t].win,n.getChildByName("pl").getComponent(cc.Label).string=e[t].total,n.getChildByName("results").getComponent("result_row").init(e[t].result)}},onEnable:function(){var e=this;this.pageNumber.string=(this.pageNo+1).toString(),r.get("http://188.166.244.222:3333/api/v1/users/getBetHistorys/4/"+this.pageNo).then(function(t){console.log("res",t.data.payload),0==t.data.payload.length?e.Nohistory.active=!0:(e.Nohistory.active=!1,e.init(t.data.payload[0]))}).catch(function(e){console.log(e)})},onDisable:function(){this.pageNo=0,this.node.removeAllChildren()},nextPage:function(){var e=this;this.pageNo+=1,this.pageNumber.string=(this.pageNo+1).toString(),this.node.removeAllChildren(),r.get("http://188.166.244.222:3333/api/v1/users/getBetHistorys/4/"+this.pageNo).then(function(t){0!=t.data.payload.length?(e.Nohistory.active=!1,e.init(t.data.payload[0])):e.Nohistory.active=!0}).catch(function(e){console.log(e)})},prevPage:function(){var e=this;this.pageNo<=0||(this.pageNo-=1,this.pageNumber.string=(this.pageNo+1).toString(),this.node.removeAllChildren(),r.get("http://188.166.244.222:3333/api/v1/users/getBetHistorys/4/"+this.pageNo).then(function(t){0!=t.data.payload.length?(e.Nohistory.active=!1,e.init(t.data.payload[0])):e.Nohistory.active=!0}).catch(function(e){console.log(e)}))},start:function(){}}),cc._RF.pop()},{axios:2}],menu_button:[function(e,t,n){"use strict";cc._RF.push(t,"f5117U933JH94R8DHPYeod9","menu_button"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){this.node.on(cc.Node.EventType.TOUCH_END,function(){})},show:function(){this.node.scale=1,this.node.opacity=255},hide:function(){this.node.opacity=0,this.node.scale=0},update:function(e){}}),cc._RF.pop()},{}],menu_list:[function(e,t,n){"use strict";cc._RF.push(t,"585aat9omFGcqK1jrfRw02J","menu_list"),cc.Class({extends:cc.Component,properties:{},start:function(){},showOrHide:function(){this.isShow?this.hide_window():this.show_menu()},show_menu:function(){this.isShow=!0,this.node.active=!0,this.node.opacity=0,this.node.scaleX=1,this.node.scaleY=.2,cc.tween(this.node).to(.3,{scaleY:1,opacity:255}).start()},hide_window:function(){var e=this;this.isShow=!1,cc.tween(this.node).to(.3,{scaleY:.2,opacity:0}).call(function(){e.node.active=!1}).start()}}),cc._RF.pop()},{}],"moving-betcoins":[function(e,t,n){"use strict";cc._RF.push(t,"3541dQW5YVPtZwTorNIUwBY","moving-betcoins"),cc.Class({extends:cc.Component,properties:{movingcoin:{default:null,type:cc.Prefab}},onLoad:function(){},start:function(){},createPlatform:function(e){cc.log("create");var t=cc.instantiate(this.movingcoin);this.node.addChild(t),this.currentCoin=t.getComponent("bet-coin"),this.currentCoin.init(e)},playerWinMove:function(e){var t;switch(e){case"elephant":t=this.node.children.filter(function(e){return e.x>=-166&&e.x<=-85&&e.y>=68&&e.y<=136});var n=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var r in t)n(r);break;case"tiger":t=this.node.children.filter(function(e){return e.x>=-35&&e.x<=46&&e.y>=67&&e.y<=127});var o=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var i in t)o(i);break;case"chicken":t=this.node.children.filter(function(e){return e.x>=96&&e.x<=176&&e.y>=68&&e.y<=127});var s=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var a in t)s(a);break;case"elephant-fish":t=this.node.children.filter(function(e){return e.x>=-149&&e.x<=-94&&e.y>=37&&e.y<=52});var c=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var u in t)c(u);break;case"elephant-tiger":t=this.node.children.filter(function(e){return e.x>=-61&&e.x<=-54&&e.y>=78&&e.y<=116});var l=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var h in t)l(h);break;case"tiger-chicken":t=this.node.children.filter(function(e){return e.x>=64&&e.x<=79&&e.y>=78&&e.y<=116});var f=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var p in t)f(p);break;case"fish":t=this.node.children.filter(function(e){return e.x>=-166&&e.x<=-81&&e.y>=-43&&e.y<=21});var d=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var y in t)d(y);break;case"fish-tortoise":t=this.node.children.filter(function(e){return e.x>=-65&&e.x<=-51&&e.y>=-25&&e.y<=13});var v=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var g in t)v(g);break;case"tortoise":t=this.node.children.filter(function(e){return e.x>=-35&&e.x<=47&&e.y>=-43&&e.y<=21});var m=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var _ in t)m(_);break;case"tiger-tortoise":t=this.node.children.filter(function(e){return e.x>=-18&&e.x<=34&&e.y>=37&&e.y<=52});var b=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var w in t)b(w);break;case"chicken-prawn":t=this.node.children.filter(function(e){return e.x>=110&&e.x<=162&&e.y>=37&&e.y<=52});var C=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var x in t)C(x);break;case"tortoise-prawn":t=this.node.children.filter(function(e){return e.x>=63&&e.x<=77&&e.y>=-25&&e.y<=13});var k=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var O in t)k(O);break;case"prawn":t=this.node.children.filter(function(e){return e.x>=96&&e.x<=177&&e.y>=-43&&e.y<=21});var A=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var M in t)A(M);break;case"elephant-tiger1":t=this.node.children.filter(function(e){return e.x>=-165&&e.x<=-98&&e.y>=-105&&e.y<=-79});var S=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var E in t)S(E);break;case"tiger-tortoise1":t=this.node.children.filter(function(e){return e.x>=-168&&e.x<=-96&&e.y>=-158&&e.y<=-128});var R=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var P in t)R(P);break;case"fish-prawn":t=this.node.children.filter(function(e){return e.x>=-75&&e.x<=-7&&e.y>=-105&&e.y<=-79});var N=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var T in t)N(T);break;case"chicken-fish":t=this.node.children.filter(function(e){return e.x>=-72&&e.x<=-5&&e.y>=-158&&e.y<=-128});var I=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var j in t)I(j);break;case"elephant-tortoise":t=this.node.children.filter(function(e){return e.x>=21&&e.x<=86&&e.y>=-105&&e.y<=-79});var F=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var L in t)F(L);break;case"elephant-fish1":t=this.node.children.filter(function(e){return e.x>=21&&e.x<=92&&e.y>=-158&&e.y<=-128});var U=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var D in t)U(D);break;case"chicken-prawn1":t=this.node.children.filter(function(e){return e.x>=110&&e.x<=177&&e.y>=-105&&e.y<=-79});var B=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var H in t)B(H);break;case"tiger-prawn":t=this.node.children.filter(function(e){return e.x>=113&&e.x<=184&&e.y>=-158&&e.y<=-128});var z=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var $ in t)z($)}},bankerWinMove:function(e){var t;switch(e){case"elephant":t=this.node.children.filter(function(e){return e.x>=-166&&e.x<=-85&&e.y>=68&&e.y<=136});var n=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var r in t)n(r);break;case"tiger":t=this.node.children.filter(function(e){return e.x>=-35&&e.x<=46&&e.y>=67&&e.y<=127});var o=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var i in t)o(i);break;case"chicken":t=this.node.children.filter(function(e){return e.x>=96&&e.x<=176&&e.y>=68&&e.y<=127});var s=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var a in t)s(a);break;case"elephant-fish":t=this.node.children.filter(function(e){return e.x>=-149&&e.x<=-94&&e.y>=37&&e.y<=52});var c=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var u in t)c(u);break;case"elephant-tiger":t=this.node.children.filter(function(e){return e.x>=-61&&e.x<=-54&&e.y>=78&&e.y<=116});var l=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var h in t)l(h);break;case"tiger-chicken":t=this.node.children.filter(function(e){return e.x>=64&&e.x<=79&&e.y>=78&&e.y<=116});var f=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var p in t)f(p);break;case"fish":t=this.node.children.filter(function(e){return e.x>=-166&&e.x<=-81&&e.y>=-43&&e.y<=21});var d=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var y in t)d(y);break;case"fish-tortoise":t=this.node.children.filter(function(e){return e.x>=-65&&e.x<=-51&&e.y>=-25&&e.y<=13});var v=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var g in t)v(g);break;case"tortoise":t=this.node.children.filter(function(e){return e.x>=-35&&e.x<=47&&e.y>=-43&&e.y<=21});var m=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var _ in t)m(_);break;case"tiger-tortoise":t=this.node.children.filter(function(e){return e.x>=-18&&e.x<=34&&e.y>=37&&e.y<=52});var b=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var w in t)b(w);break;case"chicken-prawn":t=this.node.children.filter(function(e){return e.x>=110&&e.x<=162&&e.y>=37&&e.y<=52});var C=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var x in t)C(x);break;case"tortoise-prawn":t=this.node.children.filter(function(e){return e.x>=63&&e.x<=77&&e.y>=-25&&e.y<=13});var k=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var O in t)k(O);break;case"prawn":t=this.node.children.filter(function(e){return e.x>=96&&e.x<=177&&e.y>=-43&&e.y<=21});var A=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var M in t)A(M);break;case"elephant-tiger1":t=this.node.children.filter(function(e){return e.x>=-165&&e.x<=-98&&e.y>=-105&&e.y<=-79});var S=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var E in t)S(E);break;case"tiger-tortoise1":t=this.node.children.filter(function(e){return e.x>=-168&&e.x<=-96&&e.y>=-158&&e.y<=-128});var R=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var P in t)R(P);break;case"fish-prawn":t=this.node.children.filter(function(e){return e.x>=-75&&e.x<=-7&&e.y>=-105&&e.y<=-79});var N=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var T in t)N(T);break;case"chicken-fish":t=this.node.children.filter(function(e){return e.x>=-72&&e.x<=-5&&e.y>=-158&&e.y<=-128});var I=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var j in t)I(j);break;case"elephant-tortoise":t=this.node.children.filter(function(e){return e.x>=21&&e.x<=86&&e.y>=-105&&e.y<=-79});var F=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var L in t)F(L);break;case"elephant-fish1":t=this.node.children.filter(function(e){return e.x>=21&&e.x<=92&&e.y>=-158&&e.y<=-128});var U=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var D in t)U(D);break;case"chicken-prawn1":t=this.node.children.filter(function(e){return e.x>=110&&e.x<=177&&e.y>=-105&&e.y<=-79});var B=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var H in t)B(H);break;case"tiger-prawn":t=this.node.children.filter(function(e){return e.x>=113&&e.x<=184&&e.y>=-158&&e.y<=-128});var z=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var $ in t)z($)}},remove:function(){this.node.removeAllChildren()}}),cc._RF.pop()},{}],openBowl:[function(e,t,n){"use strict";cc._RF.push(t,"04e22lxJ7lDn4POTi3mQBuO","openBowl"),cc.Class({extends:cc.Component,properties:{bowl:{default:null,type:cc.SpriteFrame}},onLoad:function(){this.sprite=this.node.getComponent(cc.Sprite)},start:function(){},animate:function(e){switch(console.log("animation is running"),e){case"shaking":this.animation.play("shaking");break;case"closing_bowl":this.animation.play("closing_bowl");break;case"bowl_to_girl":this.animation.play("bowl_to_girl");break;case"waiting":this.animation.play("waiting");break;case"girl_to_bowl":this.animation.play("girl_to_bowl");break;case"open_bowl":this.animation.play("open_bowl");break;case"stop":this.sprite.spriteFrame=this.bowl,this.animation.stop()}}}),cc._RF.pop()},{}],prawn:[function(e,t,n){"use strict";cc._RF.push(t,"bf045MGO1ZO/Lhieeav49Bj","prawn"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",5)})}}),cc._RF.pop()},{}],result_col:[function(e,t,n){"use strict";cc._RF.push(t,"ae94ec+MMZPwJuKLoaD0Nvu","result_col");cc.Class({extends:cc.Component,properties:{result_tile:{default:null,type:cc.Prefab}},start:function(){},move:function(e,t){0==t?cc.tween(e).to(1,{position:cc.v2(44.5*(t-1)-201.7,22.8)}).call(function(){return e.destroy()}).start():cc.tween(e).to(1,{position:cc.v2(44.5*(t-1)-201.7,22.8)}).start()},init:function(e,t){this.node.setPosition(cc.v2(44.5*t-201.7,22.8));for(var n=0;n<e.length;n++){var r=cc.instantiate(this.result_tile);this.node.addChild(r),r.getComponent("result_tile").init(e[n]),r.setPosition(0,-n*r.width)}this.node.width=32.5,this.node.height=32.5*e.length},update:function(e){}}),cc._RF.pop()},{}],result_dices:[function(e,t,n){"use strict";cc._RF.push(t,"00328PSFMRLPoSby/jkGF6k","result_dices");var r=[[{x:24.8,y:-10.656},{x:5.97,y:-29.8},{x:-30,y:-.001}],[{x:20.591,y:11.932},{x:-28.43,y:-10.558},{x:9.401,y:-26.089}],[{x:24.022,y:-17.966},{x:-28.43,y:-17.056},{x:-.528,y:22.491}]];cc.Class({extends:cc.Component,properties:{result_tile:{default:null,type:cc.Prefab}},start:function(){},init:function(e){for(var t=Math.floor(Math.random()*Math.floor(3)),n=0;n<e.length;n++){var o=cc.instantiate(this.result_tile);this.node.addChild(o),o.getComponent("result_tile").init(e[n]),o.setPosition(r[t][n].x,r[t][n].y)}},update:function(e){}}),cc._RF.pop()},{}],result_row:[function(e,t,n){"use strict";cc._RF.push(t,"898a1SS7+xD/rFbaJkSoAUC","result_row");cc.Class({extends:cc.Component,properties:{result_tile:{default:null,type:cc.Prefab}},start:function(){},init:function(e,t){for(var n=0;n<e.length;n++){var r=cc.instantiate(this.result_tile);this.node.addChild(r),r.width=22,r.height=22,r.getComponent("result_tile").init(e[n]),r.setPosition(n*r.width,0)}this.node.width=22*e.length,this.node.height=22},update:function(e){}}),cc._RF.pop()},{}],result_tile:[function(e,t,n){"use strict";cc._RF.push(t,"7ce87RPQdZF75Nl7HUkkYQT","result_tile"),cc.Class({extends:cc.Component,properties:{tiger:{default:null,type:cc.SpriteFrame},elephant:{default:null,type:cc.SpriteFrame},prawn:{default:null,type:cc.SpriteFrame},chicken:{default:null,type:cc.SpriteFrame},fish:{default:null,type:cc.SpriteFrame},tortoise:{default:null,type:cc.SpriteFrame}},onLoad:function(){this.sprite=this.node.getComponent(cc.Sprite)},start:function(){},init:function(e){switch(e){case 0:this.sprite.spriteFrame=this.elephant;break;case 1:this.sprite.spriteFrame=this.tiger;break;case 2:this.sprite.spriteFrame=this.chicken;break;case 3:this.sprite.spriteFrame=this.fish;break;case 4:this.sprite.spriteFrame=this.tortoise;break;case 5:this.sprite.spriteFrame=this.prawn}}}),cc._RF.pop()},{}],testing_Probabillity:[function(e,t,n){"use strict";cc._RF.push(t,"3c195dRbyJOkaLuyTFm6xx/","testing_Probabillity"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this.gnp(50,0,0,0,0,50);console.log(e,"sadsad")},gnp:function(e,t,n,r,o,i){if(e+t+n+r+o+i!=100)return null;var s=Math.floor(100*Math.random())+1;return console.log(s,"hii"),1<=s&&s<=e?0:e+1<=s&&s<=e+t?1:e+t+1<=s&&s<=e+t+n?2:e+t+n+1<=s&&s<=e+t+n+r?3:e+t+n+r+1<=s&&s<=e+t+n+r+o?4:e+t+n+r+o+1<=s&&s<=e+t+n+r+o+i?5:void 0}}),cc._RF.pop()},{}],"tiger-chicken":[function(e,t,n){"use strict";cc._RF.push(t,"7ca17HHbetAlJbotFM3GiUH","tiger-chicken"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[1,2])})}}),cc._RF.pop()},{}],"tiger-prawn":[function(e,t,n){"use strict";cc._RF.push(t,"bb266LFQ3RJ1KF4i115+2fZ","tiger-prawn"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[1,5])})}}),cc._RF.pop()},{}],"tiger-tortoise":[function(e,t,n){"use strict";cc._RF.push(t,"14496g9Al5HioYIhRc5Lz0D","tiger-tortoise"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[1,4])})}}),cc._RF.pop()},{}],tiger:[function(e,t,n){"use strict";cc._RF.push(t,"d9d44GBES1PRLJN4Zcl4kWz","tiger"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",1)})}}),cc._RF.pop()},{}],"tortoise-prawn":[function(e,t,n){"use strict";cc._RF.push(t,"3221fbTIjxEtbMMXJeSQBEm","tortoise-prawn"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[4,5])})}}),cc._RF.pop()},{}],tortoise:[function(e,t,n){"use strict";cc._RF.push(t,"e9dfa/HdOpCzaGAd14tHvak","tortoise"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",4)})}}),cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(e,t,n){"use strict";cc._RF.push(t,"e0dca+wFcxHOaPWKwRdsVwU","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}],wave:[function(e,t,n){"use strict";cc._RF.push(t,"0ea53DQ6j5KrpqII7X1xNXg","wave"),cc.Class({extends:cc.Component,properties:{},start:function(){},init:function(e,t){var n=this,r=this.node.parent.convertToNodeSpaceAR(cc.v2(e,t));this.node.setPosition(r),this.node.opacity=255,this.node.scale=.2,cc.tween(this.node).to(.7,{scale:1,opacity:0}).call(function(){return n.node.destroy()}).start()}}),cc._RF.pop()},{}]},{},["colyseus","use_v2.0.x_cc.Toggle_event","bet-amount","bet-coin","bet-picker","bet_history","chicken-prawn","chicken","coin20","coin30","coin50","elephant-fish","elephant-tiger","elephant-tortoise","elephant","fish-chicken","fish-prawn","fish-tortoise","fish","game","layoutContainer","menu_button","menu_list","moving-betcoins","openBowl","prawn","result_col","result_dices","result_row","result_tile","testing_Probabillity","tiger-chicken","tiger-prawn","tiger-tortoise","tiger","tortoise-prawn","tortoise","wave"]);