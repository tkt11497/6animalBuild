window.__require=function e(t,n,r){function o(s,c){if(!n[s]){if(!t[s]){var a=s.split("/");if(a=a[a.length-1],!t[a]){var u="function"==typeof __require&&__require;if(!c&&u)return u(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var h=n[s]={exports:{}};t[s][0].call(h.exports,function(e){return o(t[s][1][e]||e)},h,h.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<r.length;s++)o(r[s]);return o}({"bet-amount":[function(e,t,n){"use strict";cc._RF.push(t,"b5a18Da77dJCK8T8N/FkCP9","bet-amount"),cc.Class({extends:cc.Component,properties:{node20:{default:null,type:cc.Prefab},node30:{default:null,type:cc.Prefab},node50:{default:null,type:cc.Prefab}},onLoad:function(){},start:function(){},init:function(){var e=this;this.childcoin20=cc.instantiate(this.node20),this.node.addChild(this.childcoin20),this.childcoin20.setPosition(0,0),cc.tween(this.childcoin20).to(.5,{position:cc.v2(-98.507,38.806),angle:-360}).start(),this.childcoin30=cc.instantiate(this.node30),this.node.addChild(this.childcoin30),this.childcoin30.setPosition(0,0),cc.tween(this.childcoin30).to(.5,{position:cc.v2(-2.277,84.404),angle:-360}).start(),this.childcoin50=cc.instantiate(this.node50),this.node.addChild(this.childcoin50),this.childcoin50.setPosition(0,0),cc.tween(this.childcoin50).to(.5,{position:cc.v2(94.737,41.121),angle:-360}).start(),this.childcoin20.on("coin20",function(t){console.log(t),e.node.emit("betamount",20),e.remove()}),this.childcoin30.on("coin30",function(t){console.log(t),e.node.emit("betamount",30),e.remove()}),this.childcoin50.on("coin50",function(t){console.log(t),e.node.emit("betamount",50),e.remove()})},remove:function(){this.node.removeAllChildren()}}),cc._RF.pop()},{}],"bet-coin":[function(e,t,n){"use strict";cc._RF.push(t,"567bffbrUtOkLj2FQGRiXWJ","bet-coin"),cc.Class({extends:cc.Component,properties:{coin:{default:null,type:cc.Prefab}},onLoad:function(){},init:function(e){this.node.setPosition(cc.v2(-170.149,189.552)),this.addCoin(),this.moving(e)},start:function(){},addCoin:function(){var e=cc.instantiate(this.coin);this.node.addChild(e),e.setPosition(0,0)},getRandomPosition:function(e){switch(e){case"elephant":return[Math.floor(82*Math.random())+-166,Math.floor(69*Math.random())+68];case"tiger":return[Math.floor(82*Math.random())+-35,Math.floor(61*Math.random())+67];case"chicken":return[Math.floor(81*Math.random())+96,Math.floor(60*Math.random())+68];case"elephant-fish":return[Math.floor(56*Math.random())+-149,Math.floor(16*Math.random())+37];case"elephant-tiger":return[Math.floor(8*Math.random())+-61,Math.floor(39*Math.random())+78];case"tiger-chicken":return[Math.floor(16*Math.random())+64,Math.floor(39*Math.random())+78];case"fish":return[Math.floor(86*Math.random())+-166,Math.floor(65*Math.random())+-43];case"fish-tortoise":return[Math.floor(15*Math.random())+-65,Math.floor(39*Math.random())+-25];case"tortoise":return[Math.floor(83*Math.random())+-35,Math.floor(65*Math.random())+-43];case"tiger-tortoise":return[Math.floor(53*Math.random())+-18,Math.floor(16*Math.random())+37];case"chicken-prawn":return[Math.floor(53*Math.random())+110,Math.floor(16*Math.random())+37];case"tortoise-prawn":return[Math.floor(15*Math.random())+63,Math.floor(39*Math.random())+-25];case"prawn":return[Math.floor(82*Math.random())+96,Math.floor(65*Math.random())+-43];case"elephant-tiger1":return[Math.floor(68*Math.random())+-165,Math.floor(27*Math.random())+-105];case"tiger-tortoise1":return[Math.floor(73*Math.random())+-168,Math.floor(31*Math.random())+-158];case"fish-prawn":return[Math.floor(69*Math.random())+-75,Math.floor(27*Math.random())+-105];case"chicken-fish":return[Math.floor(68*Math.random())+-72,Math.floor(31*Math.random())+-158];case"elephant-tortoise":return[Math.floor(66*Math.random())+21,Math.floor(27*Math.random())+-105];case"elephant-fish1":return[Math.floor(72*Math.random())+21,Math.floor(31*Math.random())+-158];case"chicken-prawn1":return[Math.floor(68*Math.random())+110,Math.floor(27*Math.random())+-105];case"tiger-prawn":return[Math.floor(72*Math.random())+113,Math.floor(31*Math.random())+-158]}},moving:function(e){var t;switch(e){case"elephant":case"tiger":case"chicken":case"elephant-fish":case"elephant-tiger":case"tiger-chicken":case"fish":case"fish-tortoise":case"tortoise":case"tiger-tortoise":case"chicken-prawn":case"tortoise-prawn":case"prawn":case"elephant-tiger1":case"tiger-tortoise1":case"fish-prawn":case"chicken-fish":case"elephant-tortoise":case"elephant-fish1":case"chicken-prawn1":case"tiger-prawn":t=this.getRandomPosition(e),cc.tween(this.node).to(.5,{position:cc.v2(t[0],t[1]),angle:-360}).start()}cc.log("mvoing")}}),cc._RF.pop()},{}],"bet-picker":[function(e,t,n){"use strict";cc._RF.push(t,"5ed0aBAJHRJgJ8T9SeW2CtT","bet-picker"),cc.Class({extends:cc.Component,properties:{coin20:{default:null,type:cc.SpriteFrame},coin30:{default:null,type:cc.SpriteFrame},coin50:{default:null,type:cc.SpriteFrame}},onLoad:function(){this.sprite=this.node.getComponent(cc.Sprite)},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("changeBet"),console.log("change bet")})},changeSprite:function(e){switch(e){case 20:this.sprite.spriteFrame=this.coin20;break;case 30:this.sprite.spriteFrame=this.coin30;break;case 50:this.sprite.spriteFrame=this.coin50}}}),cc._RF.pop()},{}],bet_history:[function(e,t,n){"use strict";cc._RF.push(t,"cd4c9S5gANPDqFPn+GMjHDv","bet_history"),cc.Class({extends:cc.Component,properties:{},start:function(){},show_window:function(){this.node.active=!0,this.node.opacity=0,this.node.scale=.2,cc.tween(this.node).to(.5,{scale:1,opacity:255},{easing:"quarInOut"}).start()},hide_window:function(){var e=this;cc.tween(this.node).to(.5,{scale:.2,opacity:0},{easing:"quarInOut"}).call(function(){e.node.active=!1}).start()}}),cc._RF.pop()},{}],"chicken-prawn":[function(e,t,n){"use strict";cc._RF.push(t,"895830hZ/NNrIxcQ88ZGBcz","chicken-prawn"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[2,5])})}}),cc._RF.pop()},{}],chicken:[function(e,t,n){"use strict";cc._RF.push(t,"ba7e2OLQEhHsaCgrowN93ss","chicken"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",2)})}}),cc._RF.pop()},{}],coin20:[function(e,t,n){"use strict";cc._RF.push(t,"f3d65Y9YihJWI58kOM8nxzV","coin20"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("coin20",20),console.log("coinn 200 is touched")})}}),cc._RF.pop()},{}],coin30:[function(e,t,n){"use strict";cc._RF.push(t,"06023SQ/stBH57Ale16YlRL","coin30"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("coin30",30),console.log("coinn 30 is touched")})}}),cc._RF.pop()},{}],coin50:[function(e,t,n){"use strict";cc._RF.push(t,"5afd4fk0JhLQqqfwwy+7E/S","coin50"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("coin50",50),console.log("coinn 50 is touched")})}}),cc._RF.pop()},{}],colyseus:[function(e,t,n){"use strict";function r(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,s=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}cc._RF.push(t,"10b78beYMlI5b9iub9tzpGx","colyseus"),function(e,r){"object"==(void 0===n?"undefined":s(n))&&"object"==(void 0===t?"undefined":s(t))?t.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==(void 0===n?"undefined":s(n))?n.Colyseus=r():e.Colyseus=r()}(self||void 0,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==s(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,c=i.length;s<c;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,Object.create(t.prototype)),Object.defineProperties(o,{$sorting:{value:void 0,enumerable:!1,writable:!0},$changes:{value:void 0,enumerable:!1,writable:!0},onAdd:{value:void 0,enumerable:!1,writable:!0},onRemove:{value:void 0,enumerable:!1,writable:!0},onChange:{value:void 0,enumerable:!1,writable:!0},triggerAll:{value:function(){if(o.onAdd)for(var e=0;e<o.length;e++)o.onAdd(o[e],e)}},toJSON:{value:function(){for(var e=[],t=0;t<o.length;t++){var n=o[t];e.push("function"==typeof n.toJSON?n.toJSON():n)}return e}},clone:{value:function(e){var n;return e?((n=t.of.apply(t,o)).onAdd=o.onAdd,n.onRemove=o.onRemove,n.onChange=o.onChange):n=new(t.bind.apply(t,i([void 0],o.map(function(e){return"object"==s(e)?e.clone():e})))),n}}}),o}return o(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!0,configurable:!0}),t.prototype.sort=function(t){if(this.$sorting=!0,e.prototype.sort.call(this,t),this.$changes)for(var n=0,r=Array.from(this.$changes.changes);n<r.length;n++){var o=r[n],i=this.$changes.getIndex(this[o]);void 0!==i&&this.$changes.mapIndexChange(this[o],i),this.$changes.mapIndex(this[o],o)}return this.$sorting=!1,this},t.prototype.filter=function(t,n){var r=e.prototype.filter.call(this,t);return r.$changes=this.$changes.clone(),r},t.prototype.splice=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=Array.prototype.splice.apply(this,arguments),i=Array.prototype.filter.call(this,function(n,r){return r>=e+t-1});return o.map(function(e){var t=e&&e.$changes;t&&(t.parent.deleteIndex(e),delete t.parent)}),i.forEach(function(e){var t=e&&e.$changes;t&&t.parentField--}),o},t}(Array);t.ArraySchema=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.MapSchema=function e(t){var n=this;for(var r in void 0===t&&(t={}),t)this[r]=t[r];Object.defineProperties(this,{$changes:{value:void 0,enumerable:!1,writable:!0},onAdd:{value:void 0,enumerable:!1,writable:!0},onRemove:{value:void 0,enumerable:!1,writable:!0},onChange:{value:void 0,enumerable:!1,writable:!0},clone:{value:function(t){var r;if(t)(r=Object.assign(new e,n)).onAdd=n.onAdd,r.onRemove=n.onRemove,r.onChange=n.onChange;else{var o=new e;for(var i in n)"object"==s(n[i])?o[i]=n[i].clone():o[i]=n[i]}return r}},triggerAll:{value:function(){if(n.onAdd)for(var e in n)n.onAdd(n[e],e)}},toJSON:{value:function(){var e={};for(var t in n)e[t]="function"==typeof n[t].toJSON?n[t].toJSON():n[t];return e}},_indexes:{value:new Map,enumerable:!1,writable:!0},_updateIndexes:{value:function(e){for(var t=0,r=new Map,o=0,i=e;o<i.length;o++){var s=i[o];r.set(s,t++)}n._indexes=r}}})}},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),c=n(8),a=n(9),u=n(0),h=n(1),l=n(13),f=n(35),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(Error);function d(e,t,n,r){if(!(e instanceof t))throw new p("a '"+t.name+"' was expected, but '"+e.constructor.name+"' was provided in "+n.constructor.name+"#"+r)}function v(e,t,n,r,o){!function(e,t,n,r){var o,i=!1;switch(t){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":o="number",isNaN(e)&&console.log('trying to encode "NaN" in '+n.constructor.name+"#"+r);break;case"string":o="string",i=!0;break;case"boolean":return}if(s(e)!==o&&(!i||i&&null!==e)){var c="'"+JSON.stringify(e)+"'"+(e&&e.constructor&&" ("+e.constructor.name+")");throw new p("a '"+o+"' was expected, but "+c+" was provided in "+n.constructor.name+"#"+r)}}(n,e,r,o);var i=c[e];if(!i)throw new p("a '"+e+"' was expected, but "+n+" was provided in "+r.constructor.name+"#"+o);i(t,n)}function y(e,t,n){return a[e](t,n)}var g=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Object.defineProperties(this,{$changes:{value:new l.ChangeTree(this._indexes),enumerable:!1,writable:!0},$listeners:{value:{},enumerable:!1,writable:!0}});var n=this._descriptors;n&&Object.defineProperties(this,n)}return e.onError=function(e){console.error(e)},Object.defineProperty(e.prototype,"_schema",{get:function(){return this.constructor._schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_descriptors",{get:function(){return this.constructor._descriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_indexes",{get:function(){return this.constructor._indexes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_fieldsByIndex",{get:function(){return this.constructor._fieldsByIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_filters",{get:function(){return this.constructor._filters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_deprecated",{get:function(){return this.constructor._deprecated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$changed",{get:function(){return this.$changes.changed},enumerable:!0,configurable:!0}),e.prototype.listen=function(e,t){var n=this;return this.$listeners[e]||(this.$listeners[e]=new f.EventEmitter),this.$listeners[e].register(t),function(){return n.$listeners[e].remove(t)}},e.prototype.decode=function(t,n){void 0===n&&(n={offset:0});var r=[],o=this._schema,s=this._fieldsByIndex,c=t.length;t[n.offset]===i.TYPE_ID&&(n.offset+=2);for(var l=function(){var c=a.nilCheck(t,n)&&++n.offset,l=t[n.offset++];if(l===i.END_OF_STRUCTURE)return"break";var p=s[l],d="_"+p,v=o[p],g=void 0,_=!1;if(!p)return"continue";if(c)g=null,_=!0;else if(v._schema)(g=f[d]||f.createTypeInstance(t,n,v)).decode(t,n),_=!0;else if(Array.isArray(v)){v=v[0];var m=f[d]||new u.ArraySchema;g=m.clone(!0);var b=a.number(t,n),w=Math.min(a.number(t,n),b),C=g.length>b;_=w>0||C;var k=!1;C&&Array.prototype.splice.call(g,b).forEach(function(t,n){if(t&&t.onRemove)try{t.onRemove()}catch(t){e.onError(t)}if(m.onRemove)try{m.onRemove(t,b+n)}catch(t){e.onError(t)}});for(var M=0;M<w;M++){var O=a.number(t,n),x=void 0;a.indexChangeCheck(t,n)&&(a.uint8(t,n),x=a.number(t,n),k=!0);var A=!k&&void 0===g[O]||k&&void 0===x;if(v.prototype instanceof e){var E=void 0;(E=A?f.createTypeInstance(t,n,v):void 0!==x?m[x]:m[O])||(E=f.createTypeInstance(t,n,v),A=!0),E.decode(t,n),g[O]=E}else g[O]=y(v,t,n);if(A){if(m.onAdd)try{m.onAdd(g[O],O)}catch(t){e.onError(t)}}else if(m.onChange)try{m.onChange(g[O],O)}catch(t){e.onError(t)}}}else if(v.map){v=v.map;var S=f[d]||new h.MapSchema;g=S.clone(!0);var R=a.number(t,n);_=R>0,k=!1;var P=Object.keys(S);for(M=0;M<R&&void 0!==t[n.offset]&&t[n.offset]!==i.END_OF_STRUCTURE;M++){var I=a.nilCheck(t,n)&&++n.offset,N=void 0;a.indexChangeCheck(t,n)&&(a.uint8(t,n),N=P[a.number(t,n)],k=!0);var T=a.numberCheck(t,n),j="string"!=typeof v,F=T?P[a.number(t,n)]:a.string(t,n);if(E=void 0,E=(A=!k&&void 0===S[F]||k&&void 0===N&&T)&&j?f.createTypeInstance(t,n,v):void 0!==N?S[N]:S[F],I){if(E&&E.onRemove)try{E.onRemove()}catch(t){e.onError(t)}if(S.onRemove)try{S.onRemove(E,F)}catch(t){e.onError(t)}delete g[F]}else if(j?(E.decode(t,n),g[F]=E):g[F]=y(v,t,n),A){if(S.onAdd)try{S.onAdd(g[F],F)}catch(t){e.onError(t)}}else if(S.onChange)try{S.onChange(g[F],F)}catch(t){e.onError(t)}}}else _=(g=y(v,t,n))!==f[d];_&&(f.onChange||f.$listeners[p])&&r.push({field:p,value:g,previousValue:f[d]}),f[d]=g},f=this;n.offset<c&&"break"!==l(););return this._triggerChanges(r),this},e.prototype.encode=function(e,t,n,r){var o=this;if(void 0===e&&(e=this),void 0===t&&(t=!1),void 0===r&&(r=[]),!this.$changes.changed&&!t)return this._encodeEndOfStructure(this,e,r),r;for(var s=this._schema,a=this._indexes,l=this._fieldsByIndex,f=this._filters,p=Array.from(t?this.$changes.allChanges:this.$changes.changes).sort(),y=function(y,_){var m=l[p[y]]||p[y],b="_"+m,w=s[m],C=f&&f[m],k=g[b],M=a[m];if(void 0===k)c.uint8(r,i.NIL),c.number(r,M);else if(w._schema){if(n&&C&&!C.call(g,n,k,e))return"continue";k?(c.number(r,M),d(k,w,g,m),g.tryEncodeTypeId(r,w,k.constructor),k.encode(e,t,n,r)):(c.uint8(r,i.NIL),c.number(r,M))}else if(Array.isArray(w)){var O=k.$changes;if(n&&C&&!C.call(g,n,k,e))return"continue";c.number(r,M),c.number(r,k.length);var x=Array.from(t?O.allChanges:O.changes).filter(function(e){return void 0!==o[b][e]}).sort(function(e,t){return e-t}),A=x.length;c.number(r,A);var E="string"!=typeof w[0];d(g[b],u.ArraySchema,g,m);for(var S=0;S<A;S++){var R=x[S],P=g[b][R];E?(c.number(r,R),t||void 0!==(D=O.getIndexChange(P))&&(c.uint8(r,i.INDEX_CHANGE),c.number(r,D)),d(P,w[0],g,m),g.tryEncodeTypeId(r,w[0],P.constructor),P.encode(e,t,n,r)):void 0!==P&&(c.number(r,R),v(w[0],r,P,g,m))}t||n||O.discard()}else if(w.map){if(O=k.$changes,n&&C&&!C.call(g,n,k,e))return"continue";c.number(r,M);var I=Array.from(t?O.allChanges:O.changes);c.number(r,I.length);var N=Array.from(O.allChanges);E="string"!=typeof w.map,A=I.length,d(g[b],h.MapSchema,g,m);for(var T=0;T<A;T++){var j=I[T],F=void(P=g[b][j]);if(t){if(void 0===P)continue}else{var D=O.getIndexChange(P);P&&void 0!==D&&(c.uint8(r,i.INDEX_CHANGE),c.number(r,g[b]._indexes.get(D))),F=O.isDeleted(j)&&P?void 0:g[b]._indexes.get(j)}var U=void 0===P;U&&c.uint8(r,i.NIL),void 0!==F?c.number(r,F):c.string(r,j),P&&E?(d(P,w.map,g,m),g.tryEncodeTypeId(r,w.map,P.constructor),P.encode(e,t,n,r)):U||v(w.map,r,P,g,m)}t||n||(O.discard(),g[b]._updateIndexes(N))}else{if(n&&C&&!C.call(g,n,k,e))return"continue";c.number(r,M),v(w,r,k,g,m)}},g=this,_=0,m=p.length;_<m;_++)y(_);return this._encodeEndOfStructure(this,e,r),t||n||this.$changes.discard(),r},e.prototype.encodeFiltered=function(e,t){return this.encode(this,!1,e,t)},e.prototype.encodeAll=function(e){return this.encode(this,!0,void 0,e)},e.prototype.encodeAllFiltered=function(e,t){return this.encode(this,!0,e,t)},e.prototype.clone=function(){var e=new this.constructor,t=this._schema;for(var n in t)"object"==s(this[n])&&"function"==typeof this[n].clone?e[n]=this[n].clone():e[n]=this[n];return e},e.prototype.triggerAll=function(){var t=[],n=this._schema;for(var r in n)void 0!==this[r]&&t.push({field:r,value:this[r],previousValue:void 0});try{this._triggerChanges(t)}catch(t){e.onError(t)}},e.prototype.toJSON=function(){var e=this._schema,t=this._deprecated,n={};for(var r in e)t[r]||null===this[r]||void 0===this[r]||(n[r]="function"==typeof this[r].toJSON?this[r].toJSON():this["_"+r]);return n},e.prototype.discardAllChanges=function(){var t=this._schema,n=Array.from(this.$changes.changes),r=this._fieldsByIndex;for(var o in n){var i=r[o],s=t[i],c=this[i];if(void 0!==c)if(s._schema)c.discardAllChanges();else if(Array.isArray(s)){for(var a=0,u=c.length;a<u;a++){var h=c[a],l=this["_"+i][h];"string"!=typeof s[0]&&l&&l.discardAllChanges()}c.$changes.discard()}else if(s.map){var f=c,p=Object.keys(this["_"+i]);for(a=0;a<f.length;a++){var d=p[f[a]]||f[a];(l=this["_"+i][d])instanceof e&&l&&l.discardAllChanges()}c.$changes.discard()}}this.$changes.discard()},e.prototype._encodeEndOfStructure=function(e,t,n){e!==t&&n.push(i.END_OF_STRUCTURE)},e.prototype.tryEncodeTypeId=function(e,t,n){t._typeid!==n._typeid&&(c.uint8(e,i.TYPE_ID),c.uint8(e,n._typeid))},e.prototype.createTypeInstance=function(e,t,n){return e[t.offset]===i.TYPE_ID?(t.offset++,new(this.constructor._context.get(a.uint8(e,t)))):new n},e.prototype._triggerChanges=function(t){if(t.length>0){for(var n=0;n<t.length;n++){var r=t[n],o=this.$listeners[r.field];if(o)try{o.invoke(r.value,r.previousValue)}catch(t){e.onError(t)}}if(this.onChange)try{this.onChange(t)}catch(t){e.onError(t)}}},e}();t.Schema=g},function(e,t){function n(e,t){t.headers=e.headers||{},t.statusMessage=e.statusText,t.statusCode=e.status,t.data=e.response}t.send=function(e,t,r){return new Promise(function(o,i){var c,a,u,h;r=r||{};var l=new XMLHttpRequest,f=r.headers||{};for(c in r.timeout&&(l.timeout=r.timeout),l.ontimeout=l.onerror=function(e){e.timeout="timeout"==e.type,i(e)},l.open(e,t.href||t),l.onload=function(){for(h=l.getAllResponseHeaders().trim().split(/[\r\n]+/),n(l,l);u=h.shift();)u=u.split(": "),l.headers[u.shift().toLowerCase()]=u.join(": ");if((u=l.headers["content-type"])&&~u.indexOf("application/json"))try{l.data=JSON.parse(l.data,r.reviver)}catch(e){return n(l,e),i(e)}(l.status>=400?i:o)(l)},(a=r.body)&&"object"==s(a)&&(f["content-type"]="application/json",a=JSON.stringify(a)),l.withCredentials=!!r.withCredentials,f)l.setRequestHeader(c,f[c]);l.send(a)})},t.get=t.send.bind(t.send,"GET"),t.post=t.send.bind(t.send,"POST"),t.patch=t.send.bind(t.send,"PATCH"),t.del=t.send.bind(t.send,"DELETE"),t.put=t.send.bind(t.send,"PUT")},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Room=void 0;var c=i(n(5)),a=n(21),u=n(22),h=n(23),l=n(6),f=n(7),p=i(n(8)),d=i(n(9)),v=function(){function e(e,t){var n=this;this.onJoin=a.createSignal(),this.onStateChange=a.createSignal(),this.onError=a.createSignal(),this.onLeave=a.createSignal(),this.hasJoined=!1,this.onMessageHandlers=u.createNanoEvents(),this.id=null,this.name=e,t?(this.serializer=new(l.getSerializer("schema")),this.rootSchema=t,this.serializer.state=new t):this.serializer=new(l.getSerializer("fossil-delta")),this.onError(function(e,t){return console.error("colyseus.js - onError => ("+e+") "+t)}),this.onLeave(function(){return n.removeAllListeners()})}return e.prototype.connect=function(e){var t=this;this.connection=new h.Connection(e,!1),this.connection.reconnectEnabled=!1,this.connection.onmessage=this.onMessageCallback.bind(this),this.connection.onclose=function(e){if(!t.hasJoined)return console.error("Room connection was closed unexpectedly ("+e.code+"): "+e.reason),void t.onError.invoke(e.code,e.reason);t.onLeave.invoke(e.code)},this.connection.onerror=function(e){console.warn("Room, onError ("+e.code+"): "+e.reason),t.onError.invoke(e.code,e.reason)},this.connection.open()},e.prototype.leave=function(e){void 0===e&&(e=!0),this.connection?e?this.connection.send([f.Protocol.LEAVE_ROOM]):this.connection.close():this.onLeave.invoke(4e3)},e.prototype.onMessage=function(e,t){return this.onMessageHandlers.on(this.getMessageHandlerKey(e),t)},e.prototype.send=function(e,t){var n,r=[f.Protocol.ROOM_DATA];if("string"==typeof e?p.string(r,e):p.number(r,e),void 0!==t){var o=c.encode(t);(n=new Uint8Array(r.length+o.byteLength)).set(new Uint8Array(r),0),n.set(new Uint8Array(o),r.length)}else n=new Uint8Array(r);this.connection.send(n.buffer)},Object.defineProperty(e.prototype,"state",{get:function(){return this.serializer.getState()},enumerable:!1,configurable:!0}),e.prototype.listen=function(e,t,n){if("schema"!==this.serializerId)return this.serializerId||console.warn("room.Listen() should be called after room.onJoin has been called (DEPRECATION WARNING)"),this.serializer.api.listen(e,t,n);console.error("'"+this.serializerId+"' serializer doesn't support .listen() method here.")},e.prototype.removeListener=function(e){return this.serializer.api.removeListener(e)},e.prototype.removeAllListeners=function(){this.serializer&&this.serializer.teardown(),this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear()},e.prototype.onMessageCallback=function(e){var t=Array.from(new Uint8Array(e.data)),n=t[0];if(n===f.Protocol.JOIN_ROOM){var r=1;this.serializerId=f.utf8Read(t,r),r+=f.utf8Length(this.serializerId);var o=l.getSerializer(this.serializerId);if(!o)throw new Error("missing serializer: "+this.serializerId);"fossil-delta"===this.serializerId||this.rootSchema||(this.serializer=new o),t.length>r&&this.serializer.handshake&&this.serializer.handshake(t,{offset:1}),this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([f.Protocol.JOIN_ROOM])}else if(n===f.Protocol.ERROR){var i={offset:1},s=d.number(t,i),a=d.string(t,i);this.onError.invoke(s,a)}else if(n===f.Protocol.LEAVE_ROOM)this.leave();else if(n===f.Protocol.ROOM_DATA_SCHEMA)(a=new(h=this.serializer.getState().constructor._context.get(t[1]))).decode(t,{offset:2}),this.dispatchMessage(h,a);else if(n===f.Protocol.ROOM_STATE)t.shift(),this.setState(t);else if(n===f.Protocol.ROOM_STATE_PATCH)t.shift(),this.patch(t);else if(n===f.Protocol.ROOM_DATA){var u={offset:1},h=d.stringCheck(t,u)?d.string(t,u):d.number(t,u);a=t.length>u.offset?c.decode(e.data,u.offset):void 0,this.dispatchMessage(h,a)}},e.prototype.setState=function(e){this.serializer.setState(e),this.onStateChange.invoke(this.serializer.getState())},e.prototype.patch=function(e){this.serializer.patch(e),this.onStateChange.invoke(this.serializer.getState())},e.prototype.dispatchMessage=function(e,t){var n=this.getMessageHandlerKey(e);this.onMessageHandlers.events[n]?this.onMessageHandlers.emit(n,t):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",e,t):console.warn("onMessage not registered for type '"+e+"'.")},e.prototype.getMessageHandlerKey=function(e){switch(s(e)){case"function":return"$"+e._typeid;case"string":return e;case"number":return"i"+e;default:throw new Error("invalid message type.")}},e}();t.Room=v},function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;var o=r(n(19)),i=r(n(20));t.decode=o.default,t.encode=i.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getSerializer=t.registerSerializer=void 0;var r={};t.registerSerializer=function(e,t){r[e]=t},t.getSerializer=function(e){return r[e]}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.utf8Length=t.utf8Read=t.ErrorCode=t.Protocol=void 0,function(e){e[e.HANDSHAKE=9]="HANDSHAKE",e[e.JOIN_ROOM=10]="JOIN_ROOM",e[e.ERROR=11]="ERROR",e[e.LEAVE_ROOM=12]="LEAVE_ROOM",e[e.ROOM_DATA=13]="ROOM_DATA",e[e.ROOM_STATE=14]="ROOM_STATE",e[e.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",e[e.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA"}(t.Protocol||(t.Protocol={})),function(e){e[e.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",e[e.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",e[e.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",e[e.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",e[e.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",e[e.AUTH_FAILED=4215]="AUTH_FAILED",e[e.APPLICATION_ERROR=4216]="APPLICATION_ERROR"}(t.ErrorCode||(t.ErrorCode={})),t.utf8Read=function(e,t){for(var n=e[t++],r="",o=0,i=t,s=t+n;i<s;i++){var c=e[i];if(0!=(128&c))if(192!=(224&c))if(224!=(240&c)){if(240!=(248&c))throw new Error("Invalid byte "+c.toString(16));(o=(7&c)<<18|(63&e[++i])<<12|(63&e[++i])<<6|(63&e[++i])<<0)>=65536?(o-=65536,r+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):r+=String.fromCharCode(o)}else r+=String.fromCharCode((15&c)<<12|(63&e[++i])<<6|(63&e[++i])<<0);else r+=String.fromCharCode((31&c)<<6|63&e[++i]);else r+=String.fromCharCode(c)}return r},t.utf8Length=function(e){void 0===e&&(e="");for(var t=0,n=0,r=0,o=e.length;r<o;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n+1}},function(e,t,n){function r(e,t,n){for(var r=0,o=0,i=n.length;o<i;o++)(r=n.charCodeAt(o))<128?e[t++]=r:r<2048?(e[t++]=192|r>>6,e[t++]=128|63&r):r<55296||r>=57344?(e[t++]=224|r>>12,e[t++]=128|r>>6&63,e[t++]=128|63&r):(o++,r=65536+((1023&r)<<10|1023&n.charCodeAt(o)),e[t++]=240|r>>18,e[t++]=128|r>>12&63,e[t++]=128|r>>6&63,e[t++]=128|63&r)}function o(e,t){e.push(255&t)}function i(e,t){e.push(255&t)}function s(e,t){e.push(255&t),e.push(t>>8&255)}function c(e,t){e.push(255&t),e.push(t>>8&255)}function a(e,t){e.push(255&t),e.push(t>>8&255),e.push(t>>16&255),e.push(t>>24&255)}function u(e,t){var n=t>>24,r=t>>16,o=t>>8,i=t;e.push(255&i),e.push(255&o),e.push(255&r),e.push(255&n)}function h(e,t){var n=Math.floor(t/Math.pow(2,32));u(e,t>>>0),u(e,n)}function l(e,t){var n=t/Math.pow(2,32)>>0;u(e,t>>>0),u(e,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.utf8Write=r,t.int8=o,t.uint8=i,t.int16=s,t.uint16=c,t.int32=a,t.uint32=u,t.int64=h,t.uint64=l,t.float32=function(e,t){v(e,t)},t.float64=function(e,t){y(e,t)};var f=new Int32Array(2),p=new Float32Array(f.buffer),d=new Float64Array(f.buffer);function v(e,t){p[0]=t,a(e,f[0])}function y(e,t){d[0]=t,a(e,f[0]),a(e,f[1])}t.writeFloat32=v,t.writeFloat64=y,t.boolean=function(e,t){return i(e,t?1:0)},t.string=function(e,t){t||(t="");var n=function(e){for(var t=0,n=0,r=0,o=e.length;r<o;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t),o=0;if(n<32)e.push(160|n),o=1;else if(n<256)e.push(217),i(e,n),o=2;else if(n<65536)e.push(218),c(e,n),o=3;else{if(!(n<4294967296))throw new Error("String too long");e.push(219),u(e,n),o=5}return r(e,e.length,t),o+n},t.number=function e(t,n){return isNaN(n)?e(t,0):isFinite(n)?n!==(0|n)?(t.push(203),y(t,n),9):n>=0?n<128?(i(t,n),1):n<256?(t.push(204),i(t,n),2):n<65536?(t.push(205),c(t,n),3):n<4294967296?(t.push(206),u(t,n),5):(t.push(207),l(t,n),9):n>=-32?(t.push(n),1):n>=-128?(t.push(208),o(t,n),2):n>=-32768?(t.push(209),s(t,n),3):n>=-2147483648?(t.push(210),a(t,n),5):(t.push(211),h(t,n),9):e(t,n>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);function o(e,t){return i(e,t)<<24>>24}function i(e,t){return e[t.offset++]}function s(e,t){return c(e,t)<<16>>16}function c(e,t){return e[t.offset++]|e[t.offset++]<<8}function a(e,t){return e[t.offset++]|e[t.offset++]<<8|e[t.offset++]<<16|e[t.offset++]<<24}function u(e,t){return a(e,t)>>>0}function h(e,t){var n=u(e,t);return a(e,t)*Math.pow(2,32)+n}function l(e,t){var n=u(e,t);return u(e,t)*Math.pow(2,32)+n}t.int8=o,t.uint8=i,t.int16=s,t.uint16=c,t.int32=a,t.uint32=u,t.float32=function(e,t){return v(e,t)},t.float64=function(e,t){return y(e,t)},t.int64=h,t.uint64=l;var f=new Int32Array(2),p=new Float32Array(f.buffer),d=new Float64Array(f.buffer);function v(e,t){return f[0]=a(e,t),p[0]}function y(e,t){return f[0]=a(e,t),f[1]=a(e,t),d[0]}t.readFloat32=v,t.readFloat64=y,t.boolean=function(e,t){return i(e,t)>0},t.string=function(e,t){var n,r=e[t.offset++];r<192?n=31&r:217===r?n=i(e,t):218===r?n=c(e,t):219===r&&(n=u(e,t));var o=function(e,t,n){for(var r="",o=0,i=t,s=t+n;i<s;i++){var c=e[i];if(0!=(128&c))if(192!=(224&c))if(224!=(240&c)){if(240!=(248&c))throw new Error("Invalid byte "+c.toString(16));(o=(7&c)<<18|(63&e[++i])<<12|(63&e[++i])<<6|(63&e[++i])<<0)>=65536?(o-=65536,r+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):r+=String.fromCharCode(o)}else r+=String.fromCharCode((15&c)<<12|(63&e[++i])<<6|(63&e[++i])<<0);else r+=String.fromCharCode((31&c)<<6|63&e[++i]);else r+=String.fromCharCode(c)}return r}(e,t.offset,n);return t.offset+=n,o},t.stringCheck=function(e,t){var n=e[t.offset];return n<192&&n>160||217===n||218===n||219===n},t.number=function(e,t){var n=e[t.offset++];return n<128?n:202===n?v(e,t):203===n?y(e,t):204===n?i(e,t):205===n?c(e,t):206===n?u(e,t):207===n?l(e,t):208===n?o(e,t):209===n?s(e,t):210===n?a(e,t):211===n?h(e,t):n>223?-1*(255-n+1):void 0},t.numberCheck=function(e,t){var n=e[t.offset];return n<128||n>=202&&n<=211},t.arrayCheck=function(e,t){return e[t.offset]<160},t.nilCheck=function(e,t){return e[t.offset]===r.NIL},t.indexChangeCheck=function(e,t){return e[t.offset]===r.INDEX_CHANGE}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.END_OF_STRUCTURE=193,t.NIL=192,t.INDEX_CHANGE=212,t.TYPE_ID=213},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,c)}a((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Auth=t.Platform=void 0;var a=i(n(3)),u=n(27);!function(e){e.ios="ios",e.android="android"}(t.Platform||(t.Platform={}));var h=function(){function e(e){var t=this;this._id=void 0,this.username=void 0,this.displayName=void 0,this.avatarUrl=void 0,this.isAnonymous=void 0,this.email=void 0,this.lang=void 0,this.location=void 0,this.timezone=void 0,this.metadata=void 0,this.devices=void 0,this.facebookId=void 0,this.twitterId=void 0,this.googleId=void 0,this.gameCenterId=void 0,this.steamId=void 0,this.friendIds=void 0,this.blockedUserIds=void 0,this.createdAt=void 0,this.updatedAt=void 0,this.token=void 0,this.endpoint=e.replace("ws","http"),u.getItem("colyseus-auth-token",function(e){return t.token=e})}return Object.defineProperty(e.prototype,"hasToken",{get:function(){return!!this.token},enumerable:!1,configurable:!0}),e.prototype.login=function(e){return void 0===e&&(e={}),s(this,void 0,void 0,function(){var t,n,r;return c(this,function(o){switch(o.label){case 0:return t=Object.assign({},e),this.hasToken&&(t.token=this.token),[4,this.request("post","/auth",t)];case 1:for(r in n=o.sent(),this.token=n.token,u.setItem("colyseus-auth-token",this.token),n)this.hasOwnProperty(r)&&(this[r]=n[r]);return this.registerPingService(),[2,this]}})})},e.prototype.save=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.request("put","/auth",{},{username:this.username,displayName:this.displayName,avatarUrl:this.avatarUrl,lang:this.lang,location:this.location,timezone:this.timezone})];case 1:return e.sent(),[2,this]}})})},e.prototype.getFriends=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.request("get","/friends/all")];case 1:return[2,e.sent()]}})})},e.prototype.getOnlineFriends=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.request("get","/friends/online")];case 1:return[2,e.sent()]}})})},e.prototype.getFriendRequests=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.request("get","/friends/requests")];case 1:return[2,e.sent()]}})})},e.prototype.sendFriendRequest=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this.request("post","/friends/requests",{userId:e})];case 1:return[2,t.sent()]}})})},e.prototype.acceptFriendRequest=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this.request("put","/friends/requests",{userId:e})];case 1:return[2,t.sent()]}})})},e.prototype.declineFriendRequest=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this.request("del","/friends/requests",{userId:e})];case 1:return[2,t.sent()]}})})},e.prototype.blockUser=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this.request("post","/friends/block",{userId:e})];case 1:return[2,t.sent()]}})})},e.prototype.unblockUser=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this.request("put","/friends/block",{userId:e})];case 1:return[2,t.sent()]}})})},e.prototype.request=function(e,t,n,r,o){return void 0===n&&(n={}),void 0===o&&(o={}),s(this,void 0,void 0,function(){var i,s,u,h;return c(this,function(c){switch(c.label){case 0:for(s in o.Accept="application/json",this.hasToken&&(o.Authorization="Bearer "+this.token),i=[],n)i.push(s+"="+n[s]);return u=i.length>0?"?"+i.join("&"):"",h={headers:o},r&&(h.body=r),[4,a[e](""+this.endpoint+t+u,h)];case 1:return[2,c.sent().data]}})})},e.prototype.logout=function(){this.token=void 0,u.removeItem("colyseus-auth-token"),this.unregisterPingService()},e.prototype.registerPingService=function(e){var t=this;void 0===e&&(e=15e3),this.unregisterPingService(),this.keepOnlineInterval=setInterval(function(){return t.request("get","/auth")},e)},e.prototype.unregisterPingService=function(){clearInterval(this.keepOnlineInterval)},e}();t.Auth=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.Schema=r.Schema;var o=n(1);t.MapSchema=o.MapSchema;var i=n(0);t.ArraySchema=i.ArraySchema;var s=n(36);t.dumpChanges=s.dumpChanges;var c=n(37);t.Reflection=c.Reflection,t.ReflectionType=c.ReflectionType,t.ReflectionField=c.ReflectionField;var a=n(14);t.type=a.type,t.deprecated=a.deprecated,t.filter=a.filter,t.defineTypes=a.defineTypes,t.Context=a.Context},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(0),i=n(1),c=function(){function e(e,t,n){void 0===e&&(e={}),void 0===t&&(t=null),this.changed=!1,this.changes=new Set,this.allChanges=new Set,this.deletedKeys={},this.fieldIndexes=e,this.parent=n,this.parentField=t}return e.prototype.change=function(e,t){void 0===t&&(t=!1);var n=this.fieldIndexes[e],r="number"==typeof n?n:e;t?t&&(this.changed=!0,this.changes.add(r),this.allChanges.delete(r)):(this.changed=!0,this.changes.add(r),this.allChanges.add(r)),this.parent&&this.parent.change(this.parentField)},e.prototype.mapIndex=function(e,t){"object"==s(e)&&(this.indexMap||(this.indexMap=new Map,this.indexChange=new Map),this.indexMap.set(e,t))},e.prototype.getIndex=function(e){return this.indexMap&&this.indexMap.get(e)},e.prototype.deleteIndex=function(e){"object"==s(e)&&(this.deletedKeys[this.indexMap.get(e)]=!0,this.indexMap.delete(e))},e.prototype.isDeleted=function(e){return void 0!==this.deletedKeys[e]},e.prototype.mapIndexChange=function(e,t){"object"!=s(e)||this.indexChange.has(e)||this.indexChange.set(e,t)},e.prototype.getIndexChange=function(e){return this.indexChange&&this.indexChange.get(e)},e.prototype.deleteIndexChange=function(e){"object"==s(e)&&this.indexChange.delete(e)},e.prototype.changeAll=function(e){if(e instanceof r.Schema){var t=e._schema;for(var n in t)(e[n]instanceof r.Schema||e[n]instanceof o.ArraySchema||e[n]instanceof i.MapSchema)&&!e[n].$changes.parent.parent&&(e[n].$changes.parent=this),void 0!==e[n]&&this.change(n)}else for(var s=0,c=Object.keys(e);s<c.length;s++){var a=c[s];void 0!==e[a]&&this.change(a)}},e.prototype.discard=function(){this.changed=!1,this.changes.clear(),this.deletedKeys={},this.indexChange&&this.indexChange.clear()},e.prototype.clone=function(){return new e(this.fieldIndexes,this.parentField,void 0)},e}();t.ChangeTree=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),o=n(2),i=function(){function e(){this.types={},this.schemas=new Map}return e.prototype.has=function(e){return this.schemas.has(e)},e.prototype.get=function(e){return this.types[e]},e.prototype.add=function(e){e._typeid=this.schemas.size,this.types[e._typeid]=e,this.schemas.set(e,e._typeid)},e}();function s(e,n){return void 0===n&&(n=t.globalContext),function(t,i){var s=t.constructor;s._context=n,n.has(s)||(n.add(s),s._schema=Object.assign({},s._schema||{}),s._indexes=Object.assign({},s._indexes||{}),s._fieldsByIndex=Object.assign({},s._fieldsByIndex||{}),s._descriptors=Object.assign({},s._descriptors||{}),s._deprecated=Object.assign({},s._deprecated||{}));var c=Object.keys(s._schema).length;if(s._fieldsByIndex[c]=i,s._indexes[i]=c,s._schema[i]=e,!s._descriptors[i]){var a=Array.isArray(e),u=!a&&e.map,h="function"==typeof s._schema[i],l="_"+i;s._descriptors[l]={enumerable:!1,configurable:!1,writable:!0},s._descriptors[i]={get:function(){return this[l]},set:function(e){if((a||u)&&(e=new Proxy(e,{get:function(e,t){return e[t]},set:function(e,t,n){if("length"!==t&&0!==t.indexOf("$")){var i=a?Number(t):String(t);if(!e.$sorting){var s=e.$changes.getIndex(n);void 0!==s&&e.$changes.mapIndexChange(n,s),e.$changes.mapIndex(n,i)}n instanceof o.Schema?n.$changes.parent||(n.$changes=new r.ChangeTree(n._indexes,i,e.$changes),n.$changes.changeAll(n)):e[t]=n,e.$changes.change(i)}else e[t];return e[t]=n,!0},deleteProperty:function(e,t){var n=e[t];u&&void 0!==n&&(e.$changes.deleteIndex(n),e.$changes.deleteIndexChange(n),n.$changes&&delete n.$changes.parent),delete e[t];var r=a?Number(t):String(t);return e.$changes.change(r,!0),!0}})),e!==this[l])if(this[l]=e,a){this.$changes.change(i),e.$changes=new r.ChangeTree({},i,this.$changes);for(var t=0;t<e.length;t++)e[t]instanceof o.Schema&&(e[t].$changes=new r.ChangeTree(e[t]._indexes,t,e.$changes),e[t].$changes.changeAll(e[t])),e.$changes.mapIndex(e[t],t),e.$changes.change(t)}else if(u)for(var n in e.$changes=new r.ChangeTree({},i,this.$changes),this.$changes.change(i),e)e[n]instanceof o.Schema&&(e[n].$changes=new r.ChangeTree(e[n]._indexes,n,e.$changes),e[n].$changes.changeAll(e[n])),e.$changes.mapIndex(e[n],n),e.$changes.change(n);else h?(this.$changes.change(i),e&&(e.$changes=new r.ChangeTree(e._indexes,i,this.$changes),e.$changes.changeAll(e))):this.$changes.change(i)},enumerable:!0,configurable:!0}}}}t.Context=i,t.globalContext=new i,t.type=s,t.filter=function(e){return function(t,n){var r=t.constructor;r._filters||(r._filters={}),r._filters[n]=e}},t.deprecated=function(e,n){return void 0===e&&(e=!0),void 0===n&&(n=t.globalContext),function(t,n){var r=t.constructor;r._deprecated[n]=!0,e&&(r._descriptors[n]={get:function(){throw new Error(n+" is deprecated.")},set:function(e){},enumerable:!1,configurable:!0})}},t.defineTypes=function(e,n,r){for(var o in void 0===r&&(r=t.globalContext),n)s(n[o],r)(e.prototype,o);return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SchemaSerializer=t.FossilDeltaSerializer=t.registerSerializer=void 0,n(16);var r=n(17);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return r.Client}});var o=n(7);Object.defineProperty(t,"Protocol",{enumerable:!0,get:function(){return o.Protocol}}),Object.defineProperty(t,"ErrorCode",{enumerable:!0,get:function(){return o.ErrorCode}});var i=n(4);Object.defineProperty(t,"Room",{enumerable:!0,get:function(){return i.Room}});var s=n(11);Object.defineProperty(t,"Auth",{enumerable:!0,get:function(){return s.Auth}}),Object.defineProperty(t,"Platform",{enumerable:!0,get:function(){return s.Platform}});var c=n(29);Object.defineProperty(t,"FossilDeltaSerializer",{enumerable:!0,get:function(){return c.FossilDeltaSerializer}});var a=n(34);Object.defineProperty(t,"SchemaSerializer",{enumerable:!0,get:function(){return a.SchemaSerializer}});var u=n(6);Object.defineProperty(t,"registerSerializer",{enumerable:!0,get:function(){return u.registerSerializer}}),u.registerSerializer("fossil-delta",c.FossilDeltaSerializer),u.registerSerializer("schema",a.SchemaSerializer)},function(e,t){ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return null!==e&&"object"==s(e)&&e.buffer instanceof ArrayBuffer})},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,c)}a((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Client=t.MatchMakeError=void 0;var c=n(3),a=n(18),u=n(4),h=n(11),l=n(28),f=function(e){function t(n,r){var o=e.call(this,n)||this;return o.code=r,Object.setPrototypeOf(o,t.prototype),o}return o(t,e),t}(Error);t.MatchMakeError=f;var p=function(){function e(e){void 0===e&&(e=location.protocol.replace("http","ws")+"//"+location.hostname+(location.port&&":"+location.port)),this.endpoint=e,this.auth=new h.Auth(this.endpoint),this.push=new l.Push(this.endpoint)}return e.prototype.joinOrCreate=function(e,t,n){return void 0===t&&(t={}),i(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("joinOrCreate",e,t,n)];case 1:return[2,r.sent()]}})})},e.prototype.create=function(e,t,n){return void 0===t&&(t={}),i(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("create",e,t,n)];case 1:return[2,r.sent()]}})})},e.prototype.join=function(e,t,n){return void 0===t&&(t={}),i(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("join",e,t,n)];case 1:return[2,r.sent()]}})})},e.prototype.joinById=function(e,t,n){return void 0===t&&(t={}),i(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("joinById",e,t,n)];case 1:return[2,r.sent()]}})})},e.prototype.reconnect=function(e,t,n){return i(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("joinById",e,{sessionId:t},n)];case 1:return[2,r.sent()]}})})},e.prototype.getAvailableRooms=function(e){return void 0===e&&(e=""),i(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return t=this.endpoint.replace("ws","http")+"/matchmake/"+e,[4,c.get(t,{headers:{Accept:"application/json"}})];case 1:return[2,n.sent().data]}})})},e.prototype.consumeSeatReservation=function(e,t){return i(this,void 0,void 0,function(){var n;return s(this,function(r){return(n=this.createRoom(e.room.name,t)).id=e.room.roomId,n.sessionId=e.sessionId,n.connect(this.buildEndpoint(e.room,{sessionId:n.sessionId})),[2,new Promise(function(e,t){var r=function(e,n){return t(new a.ServerError(e,n))};n.onError.once(r),n.onJoin.once(function(){n.onError.remove(r),e(n)})})]})})},e.prototype.createMatchMakeRequest=function(e,t,n,r){return void 0===n&&(n={}),i(this,void 0,void 0,function(){var o,i;return s(this,function(s){switch(s.label){case 0:return o=this.endpoint.replace("ws","http")+"/matchmake/"+e+"/"+t,this.auth.hasToken&&(n.token=this.auth.token),[4,c.post(o,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})];case 1:if((i=s.sent().data).error)throw new f(i.error,i.code);return[2,this.consumeSeatReservation(i,r)]}})})},e.prototype.createRoom=function(e,t){return new u.Room(e,t)},e.prototype.buildEndpoint=function(e,t){void 0===t&&(t={});var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r+"="+t[r]);return this.endpoint+"/"+e.processId+"/"+e.roomId+"?"+n.join("&")},e}();t.Client=p},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ServerError=void 0;var i=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name="ServerError",r.code=t,r}return o(t,e),t}(Error);t.ServerError=i},function(e,t,n){function r(e,t){if(this._offset=t,e instanceof ArrayBuffer)this._buffer=e,this._view=new DataView(this._buffer);else{if(!ArrayBuffer.isView(e))throw new Error("Invalid argument");this._buffer=e.buffer,this._view=new DataView(this._buffer,e.byteOffset,e.byteLength)}}Object.defineProperty(t,"__esModule",{value:!0}),r.prototype._array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this._parse();return t},r.prototype._map=function(e){for(var t={},n=0;n<e;n++)t[this._parse()]=this._parse();return t},r.prototype._str=function(e){var t=function(e,t,n){for(var r="",o=0,i=t,s=t+n;i<s;i++){var c=e.getUint8(i);if(0!=(128&c))if(192!=(224&c))if(224!=(240&c)){if(240!=(248&c))throw new Error("Invalid byte "+c.toString(16));(o=(7&c)<<18|(63&e.getUint8(++i))<<12|(63&e.getUint8(++i))<<6|(63&e.getUint8(++i))<<0)>=65536?(o-=65536,r+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):r+=String.fromCharCode(o)}else r+=String.fromCharCode((15&c)<<12|(63&e.getUint8(++i))<<6|(63&e.getUint8(++i))<<0);else r+=String.fromCharCode((31&c)<<6|63&e.getUint8(++i));else r+=String.fromCharCode(c)}return r}(this._view,this._offset,e);return this._offset+=e,t},r.prototype._bin=function(e){var t=this._buffer.slice(this._offset,this._offset+e);return this._offset+=e,t},r.prototype._parse=function(){var e,t=this._view.getUint8(this._offset++),n=0,r=0,o=0,i=0;if(t<192)return t<128?t:t<144?this._map(15&t):t<160?this._array(15&t):this._str(31&t);if(t>223)return-1*(255-t+1);switch(t){case 192:return null;case 194:return!1;case 195:return!0;case 196:return n=this._view.getUint8(this._offset),this._offset+=1,this._bin(n);case 197:return n=this._view.getUint16(this._offset),this._offset+=2,this._bin(n);case 198:return n=this._view.getUint32(this._offset),this._offset+=4,this._bin(n);case 199:return n=this._view.getUint8(this._offset),r=this._view.getInt8(this._offset+1),this._offset+=2,[r,this._bin(n)];case 200:return n=this._view.getUint16(this._offset),r=this._view.getInt8(this._offset+2),this._offset+=3,[r,this._bin(n)];case 201:return n=this._view.getUint32(this._offset),r=this._view.getInt8(this._offset+4),this._offset+=5,[r,this._bin(n)];case 202:return e=this._view.getFloat32(this._offset),this._offset+=4,e;case 203:return e=this._view.getFloat64(this._offset),this._offset+=8,e;case 204:return e=this._view.getUint8(this._offset),this._offset+=1,e;case 205:return e=this._view.getUint16(this._offset),this._offset+=2,e;case 206:return e=this._view.getUint32(this._offset),this._offset+=4,e;case 207:return o=this._view.getUint32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,o+i;case 208:return e=this._view.getInt8(this._offset),this._offset+=1,e;case 209:return e=this._view.getInt16(this._offset),this._offset+=2,e;case 210:return e=this._view.getInt32(this._offset),this._offset+=4,e;case 211:return o=this._view.getInt32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,o+i;case 212:return r=this._view.getInt8(this._offset),this._offset+=1,0===r?void(this._offset+=1):[r,this._bin(1)];case 213:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(2)];case 214:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(4)];case 215:return r=this._view.getInt8(this._offset),this._offset+=1,0===r?(o=this._view.getInt32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,new Date(o+i)):[r,this._bin(8)];case 216:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(16)];case 217:return n=this._view.getUint8(this._offset),this._offset+=1,this._str(n);case 218:return n=this._view.getUint16(this._offset),this._offset+=2,this._str(n);case 219:return n=this._view.getUint32(this._offset),this._offset+=4,this._str(n);case 220:return n=this._view.getUint16(this._offset),this._offset+=2,this._array(n);case 221:return n=this._view.getUint32(this._offset),this._offset+=4,this._array(n);case 222:return n=this._view.getUint16(this._offset),this._offset+=2,this._map(n);case 223:return n=this._view.getUint32(this._offset),this._offset+=4,this._map(n)}throw new Error("Could not parse")},t.default=function(e,t){void 0===t&&(t=0);var n=new r(e,t),o=n._parse();if(n._offset!==e.byteLength)throw new Error(e.byteLength-n._offset+" trailing bytes");return o}},function(e,t,n){function r(e,t,n){for(var r=0,o=0,i=n.length;o<i;o++)(r=n.charCodeAt(o))<128?e.setUint8(t++,r):r<2048?(e.setUint8(t++,192|r>>6),e.setUint8(t++,128|63&r)):r<55296||r>=57344?(e.setUint8(t++,224|r>>12),e.setUint8(t++,128|r>>6&63),e.setUint8(t++,128|63&r)):(o++,r=65536+((1023&r)<<10|1023&n.charCodeAt(o)),e.setUint8(t++,240|r>>18),e.setUint8(t++,128|r>>12&63),e.setUint8(t++,128|r>>6&63),e.setUint8(t++,128|63&r))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[],n=[],o=function e(t,n,r){var o=s(r),i=0,c=0,a=0,u=0,h=0,l=0;if("string"===o){if((h=function(e){for(var t=0,n=0,r=0,o=e.length;r<o;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(r))<32)t.push(160|h),l=1;else if(h<256)t.push(217,h),l=2;else if(h<65536)t.push(218,h>>8,h),l=3;else{if(!(h<4294967296))throw new Error("String too long");t.push(219,h>>24,h>>16,h>>8,h),l=5}return n.push({_str:r,_length:h,_offset:t.length}),l+h}if("number"===o)return Math.floor(r)===r&&isFinite(r)?r>=0?r<128?(t.push(r),1):r<256?(t.push(204,r),2):r<65536?(t.push(205,r>>8,r),3):r<4294967296?(t.push(206,r>>24,r>>16,r>>8,r),5):(a=r/Math.pow(2,32)>>0,u=r>>>0,t.push(207,a>>24,a>>16,a>>8,a,u>>24,u>>16,u>>8,u),9):r>=-32?(t.push(r),1):r>=-128?(t.push(208,r),2):r>=-32768?(t.push(209,r>>8,r),3):r>=-2147483648?(t.push(210,r>>24,r>>16,r>>8,r),5):(a=Math.floor(r/Math.pow(2,32)),u=r>>>0,t.push(211,a>>24,a>>16,a>>8,a,u>>24,u>>16,u>>8,u),9):(t.push(203),n.push({_float:r,_length:8,_offset:t.length}),9);if("object"===o){if(null===r)return t.push(192),1;if(Array.isArray(r)){if((h=r.length)<16)t.push(144|h),l=1;else if(h<65536)t.push(220,h>>8,h),l=3;else{if(!(h<4294967296))throw new Error("Array too large");t.push(221,h>>24,h>>16,h>>8,h),l=5}for(i=0;i<h;i++)l+=e(t,n,r[i]);return l}if(r instanceof Date){var f=r.getTime();return a=Math.floor(f/Math.pow(2,32)),u=f>>>0,t.push(215,0,a>>24,a>>16,a>>8,a,u>>24,u>>16,u>>8,u),10}if(r instanceof ArrayBuffer){if((h=r.byteLength)<256)t.push(196,h),l=2;else if(h<65536)t.push(197,h>>8,h),l=3;else{if(!(h<4294967296))throw new Error("Buffer too large");t.push(198,h>>24,h>>16,h>>8,h),l=5}return n.push({_bin:r,_length:h,_offset:t.length}),l+h}if("function"==typeof r.toJSON)return e(t,n,r.toJSON());var p=[],d="",v=Object.keys(r);for(i=0,c=v.length;i<c;i++)"function"!=typeof r[d=v[i]]&&p.push(d);if((h=p.length)<16)t.push(128|h),l=1;else if(h<65536)t.push(222,h>>8,h),l=3;else{if(!(h<4294967296))throw new Error("Object too large");t.push(223,h>>24,h>>16,h>>8,h),l=5}for(i=0;i<h;i++)l+=e(t,n,d=p[i]),l+=e(t,n,r[d]);return l}if("boolean"===o)return t.push(r?195:194),1;if("undefined"===o)return t.push(212,0,0),3;throw new Error("Could not encode")}(t,n,e),i=new ArrayBuffer(o),c=new DataView(i),a=0,u=0,h=-1;n.length>0&&(h=n[0]._offset);for(var l,f=0,p=0,d=0,v=t.length;d<v;d++)if(c.setUint8(u+d,t[d]),d+1===h){if(f=(l=n[a])._length,p=u+h,l._bin)for(var y=new Uint8Array(l._bin),g=0;g<f;g++)c.setUint8(p+g,y[g]);else l._str?r(c,p,l._str):void 0!==l._float&&c.setFloat64(p,l._float);u+=f,n[++a]&&(h=n[a]._offset)}return i}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.handlers=[]}return e.prototype.register=function(e,t){return void 0===t&&(t=!1),this.handlers.push(e),this},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.handlers.forEach(function(t){return t.apply(void 0,e)})},e.prototype.invokeAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Promise.all(this.handlers.map(function(t){return t.apply(void 0,e)}))},e.prototype.remove=function(e){var t=this.handlers.indexOf(e);this.handlers[t]=this.handlers[this.handlers.length-1],this.handlers.pop()},e.prototype.clear=function(){this.handlers=[]},e}();t.EventEmitter=r,t.createSignal=function(){var e=new r;function t(t){return e.register(t,null===this)}return t.once=function(t){e.register(function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t.apply(void 0,r),e.remove(n)})},t.remove=function(t){return e.remove(t)},t.invoke=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.invoke.apply(e,t)},t.invokeAsync=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.invokeAsync.apply(e,t)},t.clear=function(){return e.clear()},t}},function(e,t,n){n.r(t),n.d(t,"createNanoEvents",function(){return o});var o=function(){return{events:{},emit:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i,s=r(this.events[e]||[]);try{for(s.s();!(i=s.n()).done;){i.value.apply(void 0,n)}}catch(e){s.e(e)}finally{s.f()}},on:function(e,t){var n=this;return(this.events[e]=this.events[e]||[]).push(t),function(){return n.events[e]=n.events[e].filter(function(e){return e!==t})}}}}},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0;var s=i(n(24)),c=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t,void 0,{connect:n})||this;return r._enqueuedCalls=[],r}return o(t,e),t.prototype.onOpenCallback=function(t){if(e.prototype.onOpenCallback.call(this),this.binaryType="arraybuffer",this._enqueuedCalls.length>0){for(var n=0,r=this._enqueuedCalls;n<r.length;n++){var o=r[n],i=o[0],s=o[1];this[i].apply(this,s)}this._enqueuedCalls=[]}},t.prototype.send=function(t){if(this.ws.readyState===s.default.OPEN){if(t instanceof ArrayBuffer)return e.prototype.send.call(this,t);if(Array.isArray(t))return e.prototype.send.call(this,new Uint8Array(t).buffer)}else this._enqueuedCalls.push(["send",[t]])},t}(s.default);t.Connection=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(25).createBackoff,s="undefined"!=typeof WebSocket?WebSocket:n(26),c=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(this,e),this.url=t,this.protocols=n,this.reconnectEnabled=!0,this.listeners={},this.backoff=i(r.backoff||"exponential",r),this.backoff.onReady=this.onBackoffReady.bind(this),(void 0===r.connect||r.connect)&&this.open()}return r(e,[{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isReconnect=e;var t=this.ws&&this.ws.binaryType;this.ws=new s(this.url,this.protocols),this.ws.onclose=this.onCloseCallback.bind(this),this.ws.onerror=this.onErrorCallback.bind(this),this.ws.onmessage=this.onMessageCallback.bind(this),this.ws.onopen=this.onOpenCallback.bind(this),t&&(this.ws.binaryType=t)}},{key:"onBackoffReady",value:function(e,t){this.open(!0)}},{key:"onCloseCallback",value:function(e){!this.isReconnect&&this.listeners.onclose&&this.listeners.onclose.apply(null,arguments),this.reconnectEnabled&&e.code<3e3&&this.backoff.backoff()}},{key:"onErrorCallback",value:function(){this.listeners.onerror&&this.listeners.onerror.apply(null,arguments)}},{key:"onMessageCallback",value:function(){this.listeners.onmessage&&this.listeners.onmessage.apply(null,arguments)}},{key:"onOpenCallback",value:function(){this.listeners.onopen&&this.listeners.onopen.apply(null,arguments),this.isReconnect&&this.listeners.onreconnect&&this.listeners.onreconnect.apply(null,arguments),this.isReconnect=!1}},{key:"close",value:function(e,t){void 0===e&&(e=1e3),this.reconnectEnabled=!1,this.ws.close(e,t)}},{key:"send",value:function(e){this.ws.send(e)}},{key:"bufferedAmount",get:function(){return this.ws.bufferedAmount}},{key:"readyState",get:function(){return this.ws.readyState}},{key:"binaryType",get:function(){return this.ws.binaryType},set:function(e){this.ws.binaryType=e}},{key:"extensions",get:function(){return this.ws.extensions},set:function(e){this.ws.extensions=e}},{key:"protocol",get:function(){return this.ws.protocol},set:function(e){this.ws.protocol=e}},{key:"onclose",set:function(e){this.listeners.onclose=e},get:function(){return this.listeners.onclose}},{key:"onerror",set:function(e){this.listeners.onerror=e},get:function(){return this.listeners.onerror}},{key:"onmessage",set:function(e){this.listeners.onmessage=e},get:function(){return this.listeners.onmessage}},{key:"onopen",set:function(e){this.listeners.onopen=e},get:function(){return this.listeners.onopen}},{key:"onreconnect",set:function(e){this.listeners.onreconnect=e},get:function(){return this.listeners.onreconnect}}]),e}();c.CONNECTING=s.CONNECTING,c.OPEN=s.OPEN,c.CLOSING=s.CLOSING,c.CLOSED=s.CLOSED,t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createBackoff=function(e,t){return new o(r[e],t)};var r={exponential:function(e,t){return Math.floor(Math.random()*Math.pow(2,e)*t)},fibonacci:function(e,t){if(e>(r=1))for(var n=1,r=2,o=2;o<e;o++){var i=n+r;n=r,r=i}return Math.floor(Math.random()*r*t)}};function o(e,t){this.func=e,this.attempts=0,this.delay=void 0!==t.initialDelay?t.initialDelay:100}o.prototype.backoff=function(){setTimeout(this.onReady,this.func(++this.attempts,this.delay))}},function(e,t){},function(e,t,n){var r;function o(){return r||(r="undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:"undefined"!=typeof window&&window.localStorage?window.localStorage:{cache:{},setItem:function(e,t){this.cache[e]=t},getItem:function(e){this.cache[e]},removeItem:function(e){delete this.cache[e]}}),r}Object.defineProperty(t,"__esModule",{value:!0}),t.getItem=t.removeItem=t.setItem=void 0,t.setItem=function(e,t){o().setItem(e,t)},t.removeItem=function(e){o().removeItem(e)},t.getItem=function(e,t){var n=o().getItem(e);"undefined"!=typeof Promise&&n instanceof Promise?n.then(function(e){return t(e)}):t(n)}},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,c)}a((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Push=void 0;var i=function(){function e(e){this.endpoint=e.replace("ws","http")}return e.prototype.register=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.check(),[4,this.registerServiceWorker()];case 1:return e.sent(),[4,this.requestNotificationPermission()];case 2:return e.sent(),[2]}})})},e.prototype.registerServiceWorker=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,navigator.serviceWorker.register(this.endpoint+"/push")];case 1:return[2,e.sent()]}})})},e.prototype.requestNotificationPermission=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,window.Notification.requestPermission()];case 1:if("granted"!==e.sent())throw new Error("Permission not granted for Notification");return[2]}})})},e.prototype.check=function(){if(!("serviceWorker"in navigator))throw new Error("No Service Worker support!");if(!("PushManager"in window))throw new Error("No Push API Support!")},e}();t.Push=i},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FossilDeltaSerializer=void 0;var s=n(30),c=i(n(33)),a=i(n(5)),u=function(){function e(){this.api=new s.StateContainer({})}return e.prototype.getState=function(){return this.api.state},e.prototype.setState=function(e){this.previousState=new Uint8Array(e),this.api.set(a.decode(this.previousState))},e.prototype.patch=function(e){this.previousState=new Uint8Array(c.apply(this.previousState,e)),this.api.set(a.decode(this.previousState))},e.prototype.teardown=function(){this.api.removeAllListeners()},e}();t.FossilDeltaSerializer=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(31);t.StateContainer=r.StateContainer},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(32),o=function(){function e(e){this.listeners=[],this.matcherPlaceholders={":id":/^([a-zA-Z0-9\-_]+)$/,":number":/^([0-9]+)$/,":string":/^(\w+)$/,":axis":/^([xyz])$/,":*":/(.*)/},this.state=e,this.reset()}return e.prototype.set=function(e){var t=r.compare(this.state,e);return this.state=e,this.checkPatches(t,this.listeners,this.defaultListener),t},e.prototype.registerPlaceholder=function(e,t){this.matcherPlaceholders[e]=t},e.prototype.listen=function(e,t,n){var o,i=this;"function"==typeof e?(o=[],t=e):o=e.split("/"),t.length>1&&console.warn(".listen() accepts only one parameter.");var s={callback:t,rawRules:o,rules:o.map(function(e){return"string"==typeof e?0===e.indexOf(":")?i.matcherPlaceholders[e]||i.matcherPlaceholders[":*"]:new RegExp("^"+e+"$"):e})};return 0===o.length?this.defaultListener=s:this.listeners.push(s),n&&this.checkPatches(r.compare({},this.state),[s]),s},e.prototype.removeListener=function(e){for(var t=this.listeners.length-1;t>=0;t--)this.listeners[t]===e&&this.listeners.splice(t,1)},e.prototype.removeAllListeners=function(){this.reset()},e.prototype.checkPatches=function(e,t,n){for(var r=0,o=t.length;r<o;r++)for(var i=t[r],s=e.length-1;s>=0;s--){var c=i&&this.getPathVariables(e[s],i);c&&(i.callback({path:c,rawPath:e[s].path,operation:e[s].operation,value:e[s].value}),e[s].matched=!0)}if(n)for(s=e.length-1;s>=0;s--)e[s].matched||n.callback(e[s])},e.prototype.getPathVariables=function(e,t){if(e.path.length!==t.rules.length)return!1;for(var n={},r=0,o=t.rules.length;r<o;r++){var i=e.path[r].match(t.rules[r]);if(!i||0===i.length||i.length>2)return!1;":"===t.rawRules[r].substr(0,1)&&(n[t.rawRules[r].substr(1)]=i[1])}return n},e.prototype.reset=function(){this.listeners=[]},e}();t.StateContainer=o},function(e,t,n){function r(e,t){var n=e.slice();return n.push(t),n}function o(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var o in e)e.hasOwnProperty(o)&&r.push(o);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.compare=function(e,t){var n=[];return function e(t,n,i,c){for(var a=o(n),u=o(t),h=!1,l=u.length-1;l>=0;l--){var f=u[l],p=t[f];if(!n.hasOwnProperty(f)||void 0===n[f]&&void 0!==p&&!1===Array.isArray(n))i.push({operation:"remove",path:r(c,f)}),h=!0;else{var d=n[f];"object"==s(p)&&null!=p&&"object"==s(d)&&null!=d?e(p,d,i,r(c,f)):p!==d&&i.push({operation:"replace",path:r(c,f),value:d,previousValue:p})}}if(h||a.length!=u.length)for(l=a.length-1;l>=0;l--)if(f=a[l],!t.hasOwnProperty(f)&&void 0!==n[f]){d=n[f];var v=r(c,f);"object"==s(d)&&null!=d&&e({},d,i,v),i.push({operation:"add",path:v,value:d})}}(e,t,n,[]),n}},function(e,t,n){var r;r=function(){var e={};function t(){this.a=0,this.b=0,this.i=0,this.z=new Array(16)}t.prototype.init=function(e,t){var n,r,o=0,i=0;for(n=0;n<16;n++)o=o+(r=e[t+n])&65535,i=i+(16-n)*r&65535,this.z[n]=r;this.a=65535&o,this.b=65535&i,this.i=0},t.prototype.next=function(e){var t=this.z[this.i];this.z[this.i]=e,this.i=this.i+1&15,this.a=this.a-t+e&65535,this.b=this.b-16*t+this.a&65535},t.prototype.value=function(){return(65535&this.a|(65535&this.b)<<16)>>>0};var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz~".split("").map(function(e){return e.charCodeAt(0)}),r=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,36,-1,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,-1,-1,-1,63,-1];function o(e){this.a=e,this.pos=0}function i(){this.a=[]}function s(e){var t,n;for(t=1,n=64;e>=n;t++,n<<=6);return t}function c(e){for(var t=0,n=0,r=0,o=0,i=0,s=e.length;s>=16;)t=t+e[i+0]|0,n=n+e[i+1]|0,r=r+e[i+2]|0,o=o+e[i+3]|0,t=t+e[i+4]|0,n=n+e[i+5]|0,r=r+e[i+6]|0,o=o+e[i+7]|0,t=t+e[i+8]|0,n=n+e[i+9]|0,r=r+e[i+10]|0,o=o+e[i+11]|0,t=t+e[i+12]|0,n=n+e[i+13]|0,r=r+e[i+14]|0,o=o+e[i+15]|0,i+=16,s-=16;for(;s>=4;)t=t+e[i+0]|0,n=n+e[i+1]|0,r=r+e[i+2]|0,o=o+e[i+3]|0,i+=4,s-=4;switch(o=((o+(r<<8)|0)+(n<<16)|0)+(t<<24)|0,s){case 3:o=o+(e[i+2]<<8)|0;case 2:o=o+(e[i+1]<<16)|0;case 1:o=o+(e[i+0]<<24)|0}return o>>>0}return o.prototype.haveBytes=function(){return this.pos<this.a.length},o.prototype.getByte=function(){var e=this.a[this.pos];if(this.pos++,this.pos>this.a.length)throw new RangeError("out of bounds");return e},o.prototype.getChar=function(){return String.fromCharCode(this.getByte())},o.prototype.getInt=function(){for(var e,t=0;this.haveBytes()&&(e=r[127&this.getByte()])>=0;)t=(t<<6)+e;return this.pos--,t>>>0},i.prototype.toArray=function(){return this.a},i.prototype.putByte=function(e){this.a.push(255&e)},i.prototype.putChar=function(e){this.putByte(e.charCodeAt(0))},i.prototype.putInt=function(e){var t,r,o=[];if(0!==e){for(t=0;e>0;t++,e>>>=6)o.push(n[63&e]);for(r=t-1;r>=0;r--)this.putByte(o[r])}else this.putChar("0")},i.prototype.putArray=function(e,t,n){for(var r=t;r<n;r++)this.a.push(e[r])},e.create=function(e,n){var r,o=new i,a=n.length,u=e.length,h=-1;if(o.putInt(a),o.putChar("\n"),u<=16)return o.putInt(a),o.putChar(":"),o.putArray(n,0,a),o.putInt(c(n)),o.putChar(";"),o.toArray();var l=Math.ceil(u/16),f=new Array(l),p=new Array(l);for(r=0;r<f.length;r++)f[r]=-1;for(r=0;r<p.length;r++)p[r]=-1;var d,v=new t;for(r=0;r<u-16;r+=16)v.init(e,r),d=v.value()%l,f[r/16]=p[d],p[d]=r/16;for(var y,g,_,m,b,w=0;w+16<a;)for(m=0,b=0,v.init(n,w),r=0,_=0;;){var C=250;for(g=p[d=v.value()%l];g>=0&&C-- >0;){var k,M,O,x,A,E,S;for(x=0,E=y=16*g,S=w+r;E<u&&S<a&&e[E]===n[S];x++,E++,S++);for(x--,A=1;A<y&&A<=r&&e[y-A]===n[w+r-A];A++);M=y- --A,O=r-A,(k=x+A+1)>=s(r-A)+s(k)+s(M)+3&&k>_&&(_=k,m=y-A,b=O),g=f[g]}if(_>0){b>0&&(o.putInt(b),o.putChar(":"),o.putArray(n,w,w+b),w+=b),w+=_,o.putInt(_),o.putChar("@"),o.putInt(m),o.putChar(","),m+_-1>h&&(h=m+_-1),_=0;break}if(w+r+16>=a){o.putInt(a-w),o.putChar(":"),o.putArray(n,w,w+a-w),w=a;break}v.next(n[w+r+16]),r++}return w<a&&(o.putInt(a-w),o.putChar(":"),o.putArray(n,w,w+a-w)),o.putInt(c(n)),o.putChar(";"),o.toArray()},e.outputSize=function(e){var t=new o(e),n=t.getInt();if("\n"!==t.getChar())throw new Error("size integer not terminated by '\\n'");return n},e.apply=function(e,t,n){var r,s=0,a=new o(t),u=e.length,h=t.length;if(r=a.getInt(),"\n"!==a.getChar())throw new Error("size integer not terminated by '\\n'");for(var l=new i;a.haveBytes();){var f,p;switch(f=a.getInt(),a.getChar()){case"@":if(p=a.getInt(),a.haveBytes()&&","!==a.getChar())throw new Error("copy command not terminated by ','");if((s+=f)>r)throw new Error("copy exceeds output file size");if(p+f>u)throw new Error("copy extends past end of input");l.putArray(e,p,p+f);break;case":":if((s+=f)>r)throw new Error("insert command gives an output larger than predicted");if(f>h)throw new Error("insert count exceeds size of delta");l.putArray(a.a,a.pos,a.pos+f),a.pos+=f;break;case";":var d=l.toArray();if((!n||!1!==n.verifyChecksum)&&f!==c(d))throw new Error("bad checksum");if(s!==r)throw new Error("generated size does not match predicted size");return d;default:throw new Error("unknown delta operator")}}throw new Error("unterminated delta")},e},e.exports?e.exports=r():this.fossilDelta=r()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SchemaSerializer=void 0;var r=n(12),o=function(){function e(){}return e.prototype.setState=function(e){this.state.decode(e)},e.prototype.getState=function(){return this.state},e.prototype.patch=function(e){this.state.decode(e)},e.prototype.teardown=function(){},e.prototype.handshake=function(e,t){this.state?(new r.Reflection).decode(e,t):this.state=r.Reflection.decode(e)},e}();t.SchemaSerializer=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.handlers=[]}return e.prototype.register=function(e,t){return void 0===t&&(t=!1),this.handlers.push(e),this},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.handlers.forEach(function(t){return t.apply(void 0,e)})},e.prototype.invokeAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Promise.all(this.handlers.map(function(t){return t.apply(void 0,e)}))},e.prototype.remove=function(e){var t=this.handlers.indexOf(e);this.handlers[t]=this.handlers[this.handlers.length-1],this.handlers.pop()},e.prototype.clear=function(){this.handlers=[]},e}();t.EventEmitter=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=n(1),i=n(0);t.dumpChanges=function e(t){for(var n={},s=t.$changes,c=t._fieldsByIndex||{},a=0,u=Array.from(s.changes);a<u.length;a++){var h=u[a],l=c[h]||h;t[l]instanceof o.MapSchema||t[l]instanceof i.ArraySchema||t[l]instanceof r.Schema?n[l]=e(t[l]):n[l]=t[l]}return n}},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c};Object.defineProperty(t,"__esModule",{value:!0});var c=n(14),a=n(2),u=n(0),h=n(1),l=new c.Context,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),i([c.type("string",l)],t.prototype,"name",void 0),i([c.type("string",l)],t.prototype,"type",void 0),i([c.type("uint8",l)],t.prototype,"referencedType",void 0),t}(a.Schema);t.ReflectionField=f;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fields=new u.ArraySchema,t}return o(t,e),i([c.type("uint8",l)],t.prototype,"id",void 0),i([c.type([f],l)],t.prototype,"fields",void 0),t}(a.Schema);t.ReflectionType=p;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.types=new u.ArraySchema,t}return o(t,e),t.encode=function(e){var n=e.constructor,r=new t;r.rootType=n._typeid;var o=function(e,t){for(var n in t){var o=new f;o.name=n;var i=void 0;if("string"==typeof t[n])i=t[n];else{var s="function"==typeof t[n],c=Array.isArray(t[n]),a=!c&&t[n].map,u=void 0;s?(i="ref",u=t[n]):c?(i="array","string"==typeof t[n][0]?i+=":"+t[n][0]:u=t[n][0]):a&&(i="map","string"==typeof t[n].map?i+=":"+t[n].map:u=t[n].map),o.referencedType=u?u._typeid:255}o.type=i,e.fields.push(o)}r.types.push(e)},i=n._context.types;for(var s in i){var c=new p;c.id=Number(s),o(c,i[s]._schema)}return r.encodeAll()},t.decode=function(e){var n=new c.Context,r=new t;r.decode(e);var i=r.types.reduce(function(e,t){return e[t.id]=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(a.Schema),e},{});r.types.forEach(function(e,t){e.fields.forEach(function(t){var r=i[e.id];if(void 0!==t.referencedType){var o=i[t.referencedType];o||(o=t.type.split(":")[1]),0===t.type.indexOf("array")?c.type([o],n)(r.prototype,t.name):0===t.type.indexOf("map")?c.type({map:o},n)(r.prototype,t.name):"ref"===t.type&&c.type(o,n)(r.prototype,t.name)}else c.type(t.type,n)(r.prototype,t.name)})});var s=i[r.rootType],l=new s;for(var f in s._schema){var p=s._schema[f];if("string"!=typeof p){var d="function"==typeof p,v=Array.isArray(p),y=!v&&p.map;l[f]=v?new u.ArraySchema:y?new h.MapSchema:d?new p:void 0}}return l},i([c.type([p],l)],t.prototype,"types",void 0),i([c.type("uint8",l)],t.prototype,"rootType",void 0),t}(a.Schema);t.Reflection=d}])}),cc._RF.pop()},{}],"elephant-fish":[function(e,t,n){"use strict";cc._RF.push(t,"c203esfkzlCbrqKVLwvxmkM","elephant-fish"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[0,3])})}}),cc._RF.pop()},{}],"elephant-tiger":[function(e,t,n){"use strict";cc._RF.push(t,"0dd7fNq5FRKzZaZKZ8XygDu","elephant-tiger"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[0,1])})}}),cc._RF.pop()},{}],"elephant-tortoise":[function(e,t,n){"use strict";cc._RF.push(t,"86d9d4abI5BPbiCtXzxcHdM","elephant-tortoise"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[0,4])})}}),cc._RF.pop()},{}],elephant:[function(e,t,n){"use strict";cc._RF.push(t,"e18d3HFcC1F1q4UJk26RpcA","elephant"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",0)}),console.log(this.node.children)},addBetCoins:function(){var e=cc.instantiate(this.coin);this.node.addChild(e),e.setPosition(12,12)}}),cc._RF.pop()},{}],"fish-chicken":[function(e,t,n){"use strict";cc._RF.push(t,"c3897GAC/pJZ7JH+yXv5Uap","fish-chicken"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[2,3])})}}),cc._RF.pop()},{}],"fish-prawn":[function(e,t,n){"use strict";cc._RF.push(t,"361a068odVA5ruczICzbGJ6","fish-prawn"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[3,5])})}}),cc._RF.pop()},{}],"fish-tortoise":[function(e,t,n){"use strict";cc._RF.push(t,"5ba0a80LClOcY7M8usmvBBD","fish-tortoise"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[3,4])})}}),cc._RF.pop()},{}],fish:[function(e,t,n){"use strict";cc._RF.push(t,"63b3a+cO4lLvr2TTDCKPnBc","fish"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",3)})}}),cc._RF.pop()},{}],game:[function(e,t,n){"use strict";cc._RF.push(t,"89d98l8mKtGerxQxq65GpFe","game");var r=e("colyseus");cc.Class({extends:cc.Component,properties:{gameCD:{default:null,type:cc.Label},playerCount:{default:null,type:cc.Label},message:{default:null,type:cc.Label},result:{default:null,type:cc.Label},userName:{default:null,type:cc.Label},userMoney:{default:null,type:cc.Label},coin:{default:null,type:cc.Prefab},elephant:{default:null,type:cc.Node},tiger:{default:null,type:cc.Node},chicken:{default:null,type:cc.Node},fish:{default:null,type:cc.Node},tiger_chicken:{default:null,type:cc.Node},elephant_tiger:{default:null,type:cc.Node},elephant_fish:{default:null,type:cc.Node},fish_tortoise:{default:null,type:cc.Node},tortoise:{default:null,type:cc.Node},tiger_tortoise:{default:null,type:cc.Node},chicken_prawn:{default:null,type:cc.Node},tortoise_prawn:{default:null,type:cc.Node},prawn:{default:null,type:cc.Node},elephant_tiger1:{default:null,type:cc.Node},tiger_tortoise1:{default:null,type:cc.Node},fish_prawn:{default:null,type:cc.Node},chicken_fish:{default:null,type:cc.Node},elephant_tortoise:{default:null,type:cc.Node},elephant_fish1:{default:null,type:cc.Node},chicken_prawn1:{default:null,type:cc.Node},tiger_prawn:{default:null,type:cc.Node},moving_betcoins:{default:null,type:cc.Node},bet_amount:{default:null,type:cc.Node},bet_picker:{default:null,type:cc.Node},openBowl:{default:null,type:cc.Node},recentResults:{default:null,type:cc.Node},resultCol:{default:null,type:cc.Prefab},resultDices:{default:null,type:cc.Node}},play:function(e,t){""!=this.betamount?(this.chosenNode=t,this.room.send("play",{animal:e,amount:this.betamount}),this.moving_betcoins.getComponent("moving-betcoins").createPlatform(t.name)):window.alert("You Already Bet")},onLoad:function(){var e=this;this.animate=this.openBowl.getComponent("openBowl"),this.show_betamount=!1,this.bet_picker.on("changeBet",function(){e.show_betamount||(e.show_betamount=!0,e.bet_amount.getComponent("bet-amount").init())}),this.bet_amount.on("betamount",function(t){console.log("hii",t),e.bet_picker.getComponent("bet-picker").changeSprite(t),e.show_betamount=!1,e.betamount=t}),this.fish_tortoise.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.fish_tortoise)}),this.tiger_prawn.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.tiger_prawn)}),this.chicken_prawn1.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.chicken_prawn1)}),this.elephant_fish1.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.elephant_fish1)}),this.elephant_tortoise.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.elephant_tortoise)}),this.chicken_fish.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.chicken_fish)}),this.fish_prawn.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.fish_prawn)}),this.tiger_tortoise1.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.tiger_tortoise1)}),this.prawn.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.prawn)}),this.tortoise_prawn.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.tortoise_prawn)}),this.chicken_prawn.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.chicken_prawn)}),this.tiger_tortoise.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.tiger_tortoise)}),this.tortoise.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.tortoise)}),this.elephant_fish.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.elephant_fish)}),this.elephant.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.elephant)}),this.tiger.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.tiger)}),this.chicken.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.chicken)}),this.fish.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.fish)}),this.tiger_chicken.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.tiger_chicken)}),this.elephant_tiger.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.elephant_tiger)}),this.elephant_tiger1.on("play",function(t){e.isBetted?window.alert("Your bet is already set"):e.play(t,e.elephant_tiger1)}),this.isBetted=!1,this.user="Inf1290",this.currentMoney=2e3,this.betamount=50,this.userName.string=this.user,this.userMoney.string=this.currentMoney.toString(),this.client=new r.Client("wss://animal-server.herokuapp.com/"),this.client.joinOrCreate("DOG",{userName:this.user,currentMoney:this.currentMoney}).then(function(t){console.log("joined successfully",t),e.room=t,e.joinSuccess()}).catch(function(e){console.log("join error:\n",e)})},joinSuccess:function(){var e=this;console.log("asasd-",this.room.id,this.room.state),this.room.state.onChange=function(t){switch(e.playerCount.string=Object.keys(e.room.state.players).length,e.gameCD.string=e.room.state.gameCountDown.toString(),e.room.state.gameCountDown){case 10:console.log(e.room.state.gameCountDown),e.resultDices.removeAllChildren()}},this.room.state.result.onAdd=function(t,n){var r=e.room.state.result;for(var o in console.log(r[0].x,"holay"),console.log(e.recentResults.children),e.recentResults.removeAllChildren(),r)e.createResultCol([r[o].x,r[o].y,r[o].z],o)},this.room.onMessage("result",function(t){console.log("data received from server"),console.log(t),e.result.string=t.result.join(","),e.resultDices.getComponent("result_dices").init(t.result);var n=e.convertedResultArr(t.result),r=e.bankerArr(t.result);for(var o in n)e.moving_betcoins.getComponent("moving-betcoins").playerWinMove(n[o]);for(var i in r)e.moving_betcoins.getComponent("moving-betcoins").bankerWinMove(r[i])}),this.room.onMessage("played",function(t){console.log("user got result played"),e.userMoney.string=t.amount.toString(),e.message.string=t.message,e.isBetted=!1}),this.room.onMessage("timeout",function(t){e.message.string=t,e.moving_betcoins.getComponent("moving-betcoins").remove(),e.isBetted=!1}),this.room.onMessage("normalPlayerPlayed",function(t){console.log("normalPlayerPlayed"),e.moving_betcoins.getComponent("moving-betcoins").createPlatform(e.convertedResultArr([t.animal])[0])})},convertedResultArr:function(e){var t=[];return e.includes(0)&&t.push("elephant"),e.includes(1)&&t.push("tiger"),e.includes(2)&&t.push("chicken"),e.includes(3)&&t.push("fish"),e.includes(4)&&t.push("tortoise"),e.includes(5)&&t.push("prawn"),e.includes(0)&&e.includes(3)&&t.push("elephant-fish"),e.includes(0)&&e.includes(1)&&(t.push("elephant-tiger"),t.push("elephant-tiger1")),e.includes(1)&&e.includes(2)&&t.push("tiger-chicken"),e.includes(3)&&e.includes(4)&&t.push("fish-tortoise"),e.includes(1)&&e.includes(4)&&(t.push("tiger-tortoise"),t.push("tiger-tortoise1")),e.includes(0)&&e.includes(3)&&(t.push("elephant-fish"),t.push("elephant-fish1")),e.includes(2)&&e.includes(5)&&(t.push("chicken-prawn"),t.push("chicken-prawn1")),e.includes(4)&&e.includes(5)&&t.push("tortoise-prawn"),e.includes(3)&&e.includes(5)&&t.push("fish-prawn"),e.includes(2)&&e.includes(3)&&t.push("chicken-fish"),e.includes(0)&&e.includes(4)&&t.push("elephant-tortoise"),e.includes(1)&&e.includes(5)&&t.push("tiger-prawn"),t},bankerArr:function(e){var t=[];return e.includes(0)||t.push("elephant"),e.includes(1)||t.push("tiger"),e.includes(2)||t.push("chicken"),e.includes(3)||t.push("fish"),e.includes(4)||t.push("tortoise"),e.includes(5)||t.push("prawn"),e.includes(0)&&e.includes(3)||t.push("elephant-fish"),e.includes(0)&&e.includes(1)||(t.push("elephant-tiger"),t.push("elephant-tiger1")),e.includes(1)&&e.includes(2)||t.push("tiger-chicken"),e.includes(3)&&e.includes(4)||t.push("fish-tortoise"),e.includes(1)&&e.includes(4)||(t.push("tiger-tortoise"),t.push("tiger-tortoise1")),e.includes(0)&&e.includes(3)||(t.push("elephant-fish"),t.push("elephant-fish1")),e.includes(2)&&e.includes(5)||(t.push("chicken-prawn"),t.push("chicken-prawn1")),e.includes(4)&&e.includes(5)||t.push("tortoise-prawn"),e.includes(3)&&e.includes(5)||t.push("fish-prawn"),e.includes(2)&&e.includes(3)||t.push("chicken-fish"),e.includes(0)&&e.includes(4)||t.push("elephant-tortoise"),e.includes(1)&&e.includes(5)||t.push("tiger-prawn"),t},start:function(){console.log(this.recentResults)},createResultCol:function(e,t){cc.log("creating result list");var n=cc.instantiate(this.resultCol);this.recentResults.addChild(n),this.cols=n.getComponent("result_col"),this.cols.init(e,t)},removeCoins:function(){},update:function(e){}}),cc._RF.pop()},{colyseus:"colyseus"}],menu_button:[function(e,t,n){"use strict";cc._RF.push(t,"f5117U933JH94R8DHPYeod9","menu_button"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.hide()})},show:function(){this.node.scale=1,this.node.opacity=255},hide:function(){this.node.opacity=0,this.node.scale=0},update:function(e){}}),cc._RF.pop()},{}],menu_list:[function(e,t,n){"use strict";cc._RF.push(t,"585aat9omFGcqK1jrfRw02J","menu_list"),cc.Class({extends:cc.Component,properties:{},start:function(){},show_menu:function(){this.node.active=!0,this.node.opacity=0,this.node.scale=.2,cc.tween(this.node).to(.5,{scale:1,opacity:255},{easing:"quarInOut"}).start()},hide_window:function(){var e=this;cc.tween(this.node).to(.5,{scale:.2,opacity:0},{easing:"quarInOut"}).call(function(){e.node.active=!1}).start()}}),cc._RF.pop()},{}],"moving-betcoins":[function(e,t,n){"use strict";cc._RF.push(t,"3541dQW5YVPtZwTorNIUwBY","moving-betcoins"),cc.Class({extends:cc.Component,properties:{movingcoin:{default:null,type:cc.Prefab}},onLoad:function(){},start:function(){},createPlatform:function(e){cc.log("create");var t=cc.instantiate(this.movingcoin);this.node.addChild(t),this.currentCoin=t.getComponent("bet-coin"),this.currentCoin.init(e)},playerWinMove:function(e){var t;switch(e){case"elephant":t=this.node.children.filter(function(e){return e.x>=-166&&e.x<=-85&&e.y>=68&&e.y<=136});var n=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var r in t)n(r);break;case"tiger":t=this.node.children.filter(function(e){return e.x>=-35&&e.x<=46&&e.y>=67&&e.y<=127});var o=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var i in t)o(i);break;case"chicken":t=this.node.children.filter(function(e){return e.x>=96&&e.x<=176&&e.y>=68&&e.y<=127});var s=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var c in t)s(c);break;case"elephant-fish":t=this.node.children.filter(function(e){return e.x>=-149&&e.x<=-94&&e.y>=37&&e.y<=52});var a=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var u in t)a(u);break;case"elephant-tiger":t=this.node.children.filter(function(e){return e.x>=-61&&e.x<=-54&&e.y>=78&&e.y<=116});var h=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var l in t)h(l);break;case"tiger-chicken":t=this.node.children.filter(function(e){return e.x>=64&&e.x<=79&&e.y>=78&&e.y<=116});var f=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var p in t)f(p);break;case"fish":t=this.node.children.filter(function(e){return e.x>=-166&&e.x<=-81&&e.y>=-43&&e.y<=21});var d=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var v in t)d(v);break;case"fish-tortoise":t=this.node.children.filter(function(e){return e.x>=-65&&e.x<=-51&&e.y>=-25&&e.y<=13});var y=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var g in t)y(g);break;case"tortoise":t=this.node.children.filter(function(e){return e.x>=-35&&e.x<=47&&e.y>=-43&&e.y<=21});var _=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var m in t)_(m);break;case"tiger-tortoise":t=this.node.children.filter(function(e){return e.x>=-18&&e.x<=34&&e.y>=37&&e.y<=52});var b=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var w in t)b(w);break;case"chicken-prawn":t=this.node.children.filter(function(e){return e.x>=110&&e.x<=162&&e.y>=37&&e.y<=52});var C=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var k in t)C(k);break;case"tortoise-prawn":t=this.node.children.filter(function(e){return e.x>=63&&e.x<=77&&e.y>=-25&&e.y<=13});var M=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var O in t)M(O);break;case"prawn":t=this.node.children.filter(function(e){return e.x>=96&&e.x<=177&&e.y>=-43&&e.y<=21});var x=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var A in t)x(A);break;case"elephant-tiger1":t=this.node.children.filter(function(e){return e.x>=-165&&e.x<=-98&&e.y>=-105&&e.y<=-79});var E=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var S in t)E(S);break;case"tiger-tortoise1":t=this.node.children.filter(function(e){return e.x>=-168&&e.x<=-96&&e.y>=-158&&e.y<=-128});var R=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var P in t)R(P);break;case"fish-prawn":t=this.node.children.filter(function(e){return e.x>=-75&&e.x<=-7&&e.y>=-105&&e.y<=-79});var I=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var N in t)I(N);break;case"chicken-fish":t=this.node.children.filter(function(e){return e.x>=-72&&e.x<=-5&&e.y>=-158&&e.y<=-128});var T=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var j in t)T(j);break;case"elephant-tortoise":t=this.node.children.filter(function(e){return e.x>=21&&e.x<=86&&e.y>=-105&&e.y<=-79});var F=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var D in t)F(D);break;case"elephant-fish1":t=this.node.children.filter(function(e){return e.x>=21&&e.x<=92&&e.y>=-158&&e.y<=-128});var U=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var L in t)U(L);break;case"chicken-prawn1":t=this.node.children.filter(function(e){return e.x>=110&&e.x<=177&&e.y>=-105&&e.y<=-79});var B=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var H in t)B(H);break;case"tiger-prawn":t=this.node.children.filter(function(e){return e.x>=113&&e.x<=184&&e.y>=-158&&e.y<=-128});var z=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-173,-203),angle:-360}).call(function(){t[e].destroy()}).start()};for(var $ in t)z($)}},bankerWinMove:function(e){var t;switch(e){case"elephant":t=this.node.children.filter(function(e){return e.x>=-166&&e.x<=-85&&e.y>=68&&e.y<=136});var n=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var r in t)n(r);break;case"tiger":t=this.node.children.filter(function(e){return e.x>=-35&&e.x<=46&&e.y>=67&&e.y<=127});var o=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var i in t)o(i);break;case"chicken":t=this.node.children.filter(function(e){return e.x>=96&&e.x<=176&&e.y>=68&&e.y<=127});var s=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var c in t)s(c);break;case"elephant-fish":t=this.node.children.filter(function(e){return e.x>=-149&&e.x<=-94&&e.y>=37&&e.y<=52});var a=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var u in t)a(u);break;case"elephant-tiger":t=this.node.children.filter(function(e){return e.x>=-61&&e.x<=-54&&e.y>=78&&e.y<=116});var h=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var l in t)h(l);break;case"tiger-chicken":t=this.node.children.filter(function(e){return e.x>=64&&e.x<=79&&e.y>=78&&e.y<=116});var f=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var p in t)f(p);break;case"fish":t=this.node.children.filter(function(e){return e.x>=-166&&e.x<=-81&&e.y>=-43&&e.y<=21});var d=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var v in t)d(v);break;case"fish-tortoise":t=this.node.children.filter(function(e){return e.x>=-65&&e.x<=-51&&e.y>=-25&&e.y<=13});var y=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var g in t)y(g);break;case"tortoise":t=this.node.children.filter(function(e){return e.x>=-35&&e.x<=47&&e.y>=-43&&e.y<=21});var _=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var m in t)_(m);break;case"tiger-tortoise":t=this.node.children.filter(function(e){return e.x>=-18&&e.x<=34&&e.y>=37&&e.y<=52});var b=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var w in t)b(w);break;case"chicken-prawn":t=this.node.children.filter(function(e){return e.x>=110&&e.x<=162&&e.y>=37&&e.y<=52});var C=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var k in t)C(k);break;case"tortoise-prawn":t=this.node.children.filter(function(e){return e.x>=63&&e.x<=77&&e.y>=-25&&e.y<=13});var M=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var O in t)M(O);break;case"prawn":t=this.node.children.filter(function(e){return e.x>=96&&e.x<=177&&e.y>=-43&&e.y<=21});var x=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var A in t)x(A);break;case"elephant-tiger1":t=this.node.children.filter(function(e){return e.x>=-165&&e.x<=-98&&e.y>=-105&&e.y<=-79});var E=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var S in t)E(S);break;case"tiger-tortoise1":t=this.node.children.filter(function(e){return e.x>=-168&&e.x<=-96&&e.y>=-158&&e.y<=-128});var R=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var P in t)R(P);break;case"fish-prawn":t=this.node.children.filter(function(e){return e.x>=-75&&e.x<=-7&&e.y>=-105&&e.y<=-79});var I=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var N in t)I(N);break;case"chicken-fish":t=this.node.children.filter(function(e){return e.x>=-72&&e.x<=-5&&e.y>=-158&&e.y<=-128});var T=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var j in t)T(j);break;case"elephant-tortoise":t=this.node.children.filter(function(e){return e.x>=21&&e.x<=86&&e.y>=-105&&e.y<=-79});var F=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var D in t)F(D);break;case"elephant-fish1":t=this.node.children.filter(function(e){return e.x>=21&&e.x<=92&&e.y>=-158&&e.y<=-128});var U=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var L in t)U(L);break;case"chicken-prawn1":t=this.node.children.filter(function(e){return e.x>=110&&e.x<=177&&e.y>=-105&&e.y<=-79});var B=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var H in t)B(H);break;case"tiger-prawn":t=this.node.children.filter(function(e){return e.x>=113&&e.x<=184&&e.y>=-158&&e.y<=-128});var z=function(e){cc.tween(t[e]).to(.5,{position:cc.v2(-1.461,167),angle:-360}).call(function(){t[e].destroy()}).start()};for(var $ in t)z($)}},remove:function(){this.node.removeAllChildren()}}),cc._RF.pop()},{}],openBowl:[function(e,t,n){"use strict";cc._RF.push(t,"04e22lxJ7lDn4POTi3mQBuO","openBowl"),cc.Class({extends:cc.Component,properties:{bowl:{default:null,type:cc.SpriteFrame}},onLoad:function(){this.sprite=this.node.getComponent(cc.Sprite)},start:function(){},animate:function(e){switch(console.log("animation is running"),e){case"shaking":this.animation.play("shaking");break;case"closing_bowl":this.animation.play("closing_bowl");break;case"bowl_to_girl":this.animation.play("bowl_to_girl");break;case"waiting":this.animation.play("waiting");break;case"girl_to_bowl":this.animation.play("girl_to_bowl");break;case"open_bowl":this.animation.play("open_bowl");break;case"stop":this.sprite.spriteFrame=this.bowl,this.animation.stop()}}}),cc._RF.pop()},{}],prawn:[function(e,t,n){"use strict";cc._RF.push(t,"bf045MGO1ZO/Lhieeav49Bj","prawn"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",5)})}}),cc._RF.pop()},{}],result_col:[function(e,t,n){"use strict";cc._RF.push(t,"ae94ec+MMZPwJuKLoaD0Nvu","result_col");cc.Class({extends:cc.Component,properties:{result_tile:{default:null,type:cc.Prefab}},start:function(){},init:function(e,t){this.node.setPosition(cc.v2(44.5*t-201.7,35.8));for(var n=0;n<e.length;n++){var r=cc.instantiate(this.result_tile);this.node.addChild(r),r.getComponent("result_tile").init(e[n]),r.setPosition(0,-n*r.width)}this.node.width=32.5,this.node.height=32.5*e.length},update:function(e){}}),cc._RF.pop()},{}],result_dices:[function(e,t,n){"use strict";cc._RF.push(t,"00328PSFMRLPoSby/jkGF6k","result_dices");var r=[[{x:24.8,y:-10.656},{x:5.97,y:-29.8},{x:-30,y:-.001}],[{x:20.591,y:11.932},{x:-28.43,y:-10.558},{x:9.401,y:-26.089}],[{x:24.022,y:-17.966},{x:-28.43,y:-17.056},{x:-.528,y:22.491}]];cc.Class({extends:cc.Component,properties:{result_tile:{default:null,type:cc.Prefab}},start:function(){},init:function(e){for(var t=Math.floor(Math.random()*Math.floor(3)),n=0;n<e.length;n++){var o=cc.instantiate(this.result_tile);this.node.addChild(o),o.getComponent("result_tile").init(e[n]),o.setPosition(r[t][n].x,r[t][n].y)}},update:function(e){}}),cc._RF.pop()},{}],result_tile:[function(e,t,n){"use strict";cc._RF.push(t,"7ce87RPQdZF75Nl7HUkkYQT","result_tile"),cc.Class({extends:cc.Component,properties:{tiger:{default:null,type:cc.SpriteFrame},elephant:{default:null,type:cc.SpriteFrame},prawn:{default:null,type:cc.SpriteFrame},chicken:{default:null,type:cc.SpriteFrame},fish:{default:null,type:cc.SpriteFrame},tortoise:{default:null,type:cc.SpriteFrame}},onLoad:function(){this.sprite=this.node.getComponent(cc.Sprite)},start:function(){},init:function(e){switch(e){case 0:this.sprite.spriteFrame=this.elephant;break;case 1:this.sprite.spriteFrame=this.tiger;break;case 2:this.sprite.spriteFrame=this.chicken;break;case 3:this.sprite.spriteFrame=this.fish;break;case 4:this.sprite.spriteFrame=this.tortoise;break;case 5:this.sprite.spriteFrame=this.prawn}}}),cc._RF.pop()},{}],testing_Probabillity:[function(e,t,n){"use strict";cc._RF.push(t,"3c195dRbyJOkaLuyTFm6xx/","testing_Probabillity"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this.gnp(50,0,0,0,0,50);console.log(e,"sadsad")},gnp:function(e,t,n,r,o,i){if(e+t+n+r+o+i!=100)return null;var s=Math.floor(100*Math.random())+1;return console.log(s,"hii"),1<=s&&s<=e?0:e+1<=s&&s<=e+t?1:e+t+1<=s&&s<=e+t+n?2:e+t+n+1<=s&&s<=e+t+n+r?3:e+t+n+r+1<=s&&s<=e+t+n+r+o?4:e+t+n+r+o+1<=s&&s<=e+t+n+r+o+i?5:void 0}}),cc._RF.pop()},{}],"tiger-chicken":[function(e,t,n){"use strict";cc._RF.push(t,"7ca17HHbetAlJbotFM3GiUH","tiger-chicken"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[1,2])})}}),cc._RF.pop()},{}],"tiger-prawn":[function(e,t,n){"use strict";cc._RF.push(t,"bb266LFQ3RJ1KF4i115+2fZ","tiger-prawn"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[1,5])})}}),cc._RF.pop()},{}],"tiger-tortoise":[function(e,t,n){"use strict";cc._RF.push(t,"14496g9Al5HioYIhRc5Lz0D","tiger-tortoise"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[1,4])})}}),cc._RF.pop()},{}],tiger:[function(e,t,n){"use strict";cc._RF.push(t,"d9d44GBES1PRLJN4Zcl4kWz","tiger"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",1)})}}),cc._RF.pop()},{}],"tortoise-prawn":[function(e,t,n){"use strict";cc._RF.push(t,"3221fbTIjxEtbMMXJeSQBEm","tortoise-prawn"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",[4,5])})}}),cc._RF.pop()},{}],tortoise:[function(e,t,n){"use strict";cc._RF.push(t,"e9dfa/HdOpCzaGAd14tHvak","tortoise"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){e.node.emit("play",4)})}}),cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(e,t,n){"use strict";cc._RF.push(t,"e0dca+wFcxHOaPWKwRdsVwU","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["colyseus","use_v2.0.x_cc.Toggle_event","bet-amount","bet-coin","bet-picker","bet_history","chicken-prawn","chicken","coin20","coin30","coin50","elephant-fish","elephant-tiger","elephant-tortoise","elephant","fish-chicken","fish-prawn","fish-tortoise","fish","game","menu_button","menu_list","moving-betcoins","openBowl","prawn","result_col","result_dices","result_tile","testing_Probabillity","tiger-chicken","tiger-prawn","tiger-tortoise","tiger","tortoise-prawn","tortoise"]);